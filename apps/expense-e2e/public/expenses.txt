{"entityType":"profiles","data":{"name":"admin","displayName":"Admin","description":"Organization administrator profile"}}
{"entityType":"profiles","data":{"name":"guest","displayName":"Guest","description":""}}
{"entityType":"profiles","data":{"name":"Reporter","displayName":"Reporter","description":""}}
{"entityType":"profiles","data":{"name":"Manager","displayName":"Manager","description":""}}
{"entityType":"profiles","data":{"name":"Employee","displayName":"Employee","description":""}}
{"entityType":"pickLists","data":{"name":"expenseStatus","displayName":"Expense Status","description":null,"isSystemDefault":false,"isActive":true,"itemLabels":["Level 1"],"viewAttributes":{},"items":[{"order":1,"pickListId":1,"name":"approved","displayName":"Approved","attributes":{"color":"lime","order":4},"isDeprecated":false},{"order":1,"pickListId":1,"name":"draft","displayName":"Draft","attributes":{"color":"gray","order":2},"isDeprecated":false},{"order":1,"pickListId":1,"name":"pending","displayName":"Pending","attributes":{"color":"gray","order":1},"isDeprecated":false},{"order":1,"pickListId":1,"name":"rejected","displayName":"Rejected","attributes":{"color":"red","order":5},"isDeprecated":false},{"order":1,"pickListId":1,"name":"submitted","displayName":"Submitted","attributes":{"color":"yellow","order":3},"isDeprecated":false}]}}
{"entityType":"pickLists","data":{"name":"categoryStatus","displayName":"Category Status","description":null,"isSystemDefault":false,"isActive":true,"itemLabels":["Level 1"],"viewAttributes":{},"items":[{"order":1,"pickListId":2,"name":"active","displayName":"Active","attributes":{"color":"green","order":1},"isDeprecated":false},{"order":1,"pickListId":2,"name":"deprecated","displayName":"Deprecated","attributes":{"color":"red","order":3},"isDeprecated":false},{"order":1,"pickListId":2,"name":"suspended","displayName":"Suspended","attributes":{"color":"yellow","order":2},"isDeprecated":false}]}}
{"entityType":"actionMeta","data":{"name":"sendMail","displayName":"Send Mail","description":null,"script":null,"path":"/v3/mail/send","method":"post","inputs":{"header":{"Authorization":{"isRequired":true,"default":"Bearer: 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"},"Content-Type":{"isRequired":true,"default":"application/json"}},"query":{},"body":{"isRequired":true,"type":"string"},"path":[]},"outputs":{"202":{"type":"string","description":"Accepted"},"500":{"type":"string","description":"Internet Server Error"}},"isStream":false,"credential":{"name":"sendGrid","displayName":"Send Grid","description":null,"url":"https://api.sendgrid.com","authProtocol":null,"identityType":"anon","credential":{}}}}
{"entityType":"objects","data":{"name":"systemImportBatch","displayName":"System Batch","description":null,"isSystemDefault":true,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"name","displayName":"Record Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"userRef","displayName":"User reference key","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"ctx","displayName":"Context","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"json"},{"name":"result","displayName":"Result","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"json"},{"name":"fileId","displayName":"File Id","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"status","displayName":"Status","description":"Batch's Status: processing, finished, failed","isSystemDefault":false,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"validation_operator","displayName":"Validation Operator","description":null,"isSystemDefault":true,"isHidden":true,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"name","displayName":"Record Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"display_name","displayName":"Display Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"placeholder","displayName":"Placeholder","description":"Input guidance","isSystemDefault":true,"isRequired":false,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"util","displayName":"Utility Method","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"is_active","displayName":"Is Active","description":null,"isSystemDefault":true,"isRequired":false,"attributes":{"defaultValue":true},"value":null,"isHidden":false,"isExternalId":false,"typeName":"boolean"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"expenses","displayName":"Expenses","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"account","displayName":"Account","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"noAction","filters":[]},"value":"accountName","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"bill","displayName":"Bill","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"fileSizeLimit":20971520,"fileTypes":[]},"value":null,"isHidden":false,"isExternalId":false,"typeName":"file"},{"name":"categories","displayName":"Categories","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]},"value":"categories","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"defaultValue":"","subType":"long","sensitivity":"none","isUnique":false},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"editReason","displayName":"Edit Reason","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Expenses","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"rejectReason","displayName":"Reject Reason","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"status","displayName":"Status","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"pickListLvl":1,"defaultValue":"pending","subType":"single"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"pickList","pickListName":"expenseStatus"},{"name":"total","displayName":"Total","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"categories","displayName":"Categories","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"categoryStatus","displayName":"Category Status","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"subType":"single","defaultValue":"active","pickListLvl":1},"value":null,"isHidden":false,"isExternalId":false,"typeName":"pickList","pickListName":"categoryStatus"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"expenseLimit","displayName":"Expense Limit","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"name","displayName":"Categories","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"parentCategory","displayName":"Parent Category","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"onDelete":"setNull","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]},"value":"categories","isHidden":false,"isExternalId":false,"typeName":"relation"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"deposit","displayName":"Deposit","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"account","displayName":"Account","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"cascade","filters":[]},"value":"accountName","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"amount","displayName":"Amount","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Deposit","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"oldBudget","displayName":"Old Budget","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"expenseSettings","displayName":"Expense Settings","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Settings Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"value","displayName":"Value","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"defaultValue":"","subType":"short","sensitivity":"none","isUnique":false},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"accountName","displayName":"Account","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"cashBalance","displayName":"Cash Balance","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Account Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objects","data":{"name":"user","displayName":"User","description":null,"isSystemDefault":true,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"currentVacation","displayName":"Current vacation","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"float","defaultValue":0},"value":null,"isHidden":false,"isExternalId":false,"typeName":"numeric"},{"name":"email","displayName":"Email","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"jobDescription","displayName":"Job description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Display Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"supervisor","displayName":"Supervisor","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"totalVacation","displayName":"Total vacation","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"float"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"numeric"},{"name":"watchDogId","displayName":"Watch Dog Id","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"systemImportBatch","displayName":"System Batch","description":null,"isSystemDefault":true,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"name","displayName":"Record Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"userRef","displayName":"User reference key","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"ctx","displayName":"Context","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"json"},{"name":"result","displayName":"Result","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"json"},{"name":"fileId","displayName":"File Id","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"status","displayName":"Status","description":"Batch's Status: processing, finished, failed","isSystemDefault":false,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"validation_operator","displayName":"Validation Operator","description":null,"isSystemDefault":true,"isHidden":true,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"name","displayName":"Record Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"display_name","displayName":"Display Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"placeholder","displayName":"Placeholder","description":"Input guidance","isSystemDefault":true,"isRequired":false,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"util","displayName":"Utility Method","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"is_active","displayName":"Is Active","description":null,"isSystemDefault":true,"isRequired":false,"attributes":{"defaultValue":true},"value":null,"isHidden":false,"isExternalId":false,"typeName":"boolean"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"expenses","displayName":"Expenses","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"account","displayName":"Account","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"noAction","filters":[]},"value":"accountName","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"bill","displayName":"Bill","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"fileSizeLimit":20971520,"fileTypes":[]},"value":null,"isHidden":false,"isExternalId":false,"typeName":"file"},{"name":"categories","displayName":"Categories","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]},"value":"categories","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"defaultValue":"","subType":"long","sensitivity":"none","isUnique":false},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"editReason","displayName":"Edit Reason","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Expenses","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"rejectReason","displayName":"Reject Reason","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"status","displayName":"Status","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"pickListLvl":1,"defaultValue":"pending","subType":"single"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"pickList","pickListName":"expenseStatus"},{"name":"total","displayName":"Total","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"categories","displayName":"Categories","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"categoryStatus","displayName":"Category Status","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"subType":"single","defaultValue":"active","pickListLvl":1},"value":null,"isHidden":false,"isExternalId":false,"typeName":"pickList","pickListName":"categoryStatus"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"expenseLimit","displayName":"Expense Limit","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"name","displayName":"Categories","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"parentCategory","displayName":"Parent Category","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"onDelete":"setNull","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]},"value":"categories","isHidden":false,"isExternalId":false,"typeName":"relation"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"deposit","displayName":"Deposit","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"account","displayName":"Account","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"onDelete":"cascade","filters":[]},"value":"accountName","isHidden":false,"isExternalId":false,"typeName":"relation"},{"name":"amount","displayName":"Amount","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Deposit","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"oldBudget","displayName":"Old Budget","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"expenseSettings","displayName":"Expense Settings","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Settings Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"value","displayName":"Value","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{"defaultValue":"","subType":"short","sensitivity":"none","isUnique":false},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"accountName","displayName":"Account","description":null,"isSystemDefault":false,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"cashBalance","displayName":"Cash Balance","description":null,"isSystemDefault":false,"isRequired":true,"attributes":{},"value":null,"isHidden":false,"isExternalId":false,"typeName":"currency"},{"name":"description","displayName":"Description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Account Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"objectDetail","data":{"name":"user","displayName":"User","description":null,"isSystemDefault":true,"isHidden":false,"type":"object","isExternal":false,"owd":"PublicRead","fields":[{"name":"currentVacation","displayName":"Current vacation","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"float","defaultValue":0},"value":null,"isHidden":false,"isExternalId":false,"typeName":"numeric"},{"name":"email","displayName":"Email","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"jobDescription","displayName":"Job description","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"long","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"name","displayName":"Display Name","description":null,"isSystemDefault":true,"isRequired":true,"attributes":{"subType":"short","defaultValue":""},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"supervisor","displayName":"Supervisor","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"},{"name":"totalVacation","displayName":"Total vacation","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"float"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"numeric"},{"name":"watchDogId","displayName":"Watch Dog Id","description":null,"isSystemDefault":false,"isRequired":false,"attributes":{"subType":"short","sensitivity":"none"},"value":null,"isHidden":false,"isExternalId":false,"typeName":"text"}],"dataSources":[],"validationRules":[],"extended":[]}}
{"entityType":"flows","data":{"type":"action","name":"sendEmail","isSystemDefault":false,"template":{"version":"v1","displayName":"Send email","description":null,"status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"sendEmail","displayName":"Send Email","description":"","isSystemDefault":false,"type":"action","expectedInput":["authorization","contentType","requestBody"],"expectedOutput":["sendEmail"],"nodeAttributes":{"description":"","position":{"x":840,"y":144}},"maxConnections":3,"hasFaultConnection":true,"attributes":{"inputMap":{"header.Authorization":{"value":"authorization","type":"variable"},"header.Content-Type":{"value":"contentType","type":"variable"},"body":{"value":"requestBody","type":"variable"}},"actionMetadataName":"sendMail","bodyAssetFields":[]}},{"name":"assignHeader","displayName":"Assign header","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["authorization","contentType"],"expectedOutput":["authorization","contentType"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"authorization","sign":"assign","value":{"type":"value","value":"Bearer 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"}},{"variable":"contentType","value":{"type":"value","value":"application/json"},"sign":"assign"}]}},{"name":"assignRequestBody","displayName":"Assign request body","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["requestBody","toEmail","fromEmail","subject","value"],"expectedOutput":["requestBody"],"nodeAttributes":{"position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"requestBody","sign":"assign","value":{"type":"script","value":"({\n    \"personalizations\": [\n        {\n            \"to\": [\n                {\n                    \"email\": \"{\\$toEmail}\" ||\"test123@gmail.com\"\n                }\n            ]\n        }\n    ],\n    \"from\": {\n        \"email\": \"{\\$fromEmail}\" || \"no-reply@staging.nuclent.com\"\n    },\n    \"subject\": \"{\\$subject}\",\n    \"content\": [\n        {\n            \"type\": \"text/html\",\n            \"value\": `<html><head></head><body><div>{\\$value}<div/></body></html>`\n        }\n    ]\n})"}}]}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignHeader","trgItemName":"assignRequestBody"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignRequestBody","trgItemName":"sendEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"assignHeader"}],"variables":[{"name":"authorization","displayName":"Authorization","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"contentType","displayName":"Content type","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"requestBody","displayName":"Request body","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"value","displayName":"Value","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"toEmail","displayName":"To Email","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"fromEmail","displayName":"From Email","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"subject","displayName":"Subject","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"outputCode","displayName":"Output Code","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"rejectExpense","isSystemDefault":false,"template":{"version":"v1","displayName":"Process Expense","description":"edit validation","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"updateExpenseStatus","displayName":"update expense status","description":"","isSystemDefault":false,"type":"update","expectedInput":["processingExpense","expenseId"],"expectedOutput":["updateExpenseStatus"],"nodeAttributes":{"description":"","position":{"x":744,"y":384}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"rejectReason":{"value":"processingExpense.rejectReason","type":"variable"},"status":{"value":"processingExpense.yourDecision","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"isRejected","displayName":"Is Rejected","description":"","isSystemDefault":false,"type":"decision","expectedInput":["processingExpense"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":360,"y":384}},"maxConnections":3,"hasFaultConnection":false,"attributes":{"order":["reject","approve"],"outcomes":{"reject":{"name":"reject","displayName":"Reject","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"processingExpense.yourDecision","type":"variable"},"sign":"===","value":{"type":"value","value":"rejected"}}]},"approve":{"name":"approve","displayName":"Approve","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"processingExpense.yourDecision","type":"variable"},"sign":"===","value":{"type":"value","value":"approved"}}]}},"defaultOutcomeLabel":"default"}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1008,"y":288}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Expense processed successfully. The status has been updated`"}}]}},{"name":"getAccountBalance","displayName":"get account balance","description":"","isSystemDefault":false,"type":"read","expectedInput":["getExpense"],"expectedOutput":["getAccountBalance"],"nodeAttributes":{"description":"","position":{"x":456,"y":576}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"getExpense.account","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"getExpense","displayName":"get expense","description":"by id","isSystemDefault":false,"type":"read","expectedInput":["expenseId"],"expectedOutput":["getExpense"],"nodeAttributes":{"description":"by id","position":{"x":144,"y":264}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"calculateNewBalance","displayName":"calculate new balance","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBalance","getAccountBalance","getExpense"],"expectedOutput":["newBalance"],"nodeAttributes":{"description":"","position":{"x":600,"y":576}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBalance","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$getAccountBalance}.cashBalance - {\\$getExpense}.total\n})()"}}]}},{"name":"updateAccountBalance","displayName":"update account balance","description":"","isSystemDefault":false,"type":"update","expectedInput":["newBalance","getExpense"],"expectedOutput":["updateAccountBalance"],"nodeAttributes":{"description":"","position":{"x":744,"y":576}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBalance","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"getExpense.account","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateExpenseStatus","updateAccountBalance"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1080,"y":480}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateExpenseStatus} || {\\$updateAccountBalance}"}}]}},{"name":"processingExpense","displayName":"Processing Expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["processingExpense"],"nodeAttributes":{"position":{"x":144,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"processingExpense","displayName":"Processing Expense","description":"","label":"Processing Expense","gap":"xs","p":null,"css":""},"children":["ORUMwO1B","T5rGU91K","nI2FSZyE","79tlMDuc"],"name":"processingExpense"},"nI2FSZyE":{"id":"nI2FSZyE","name":"yourDecision","type":"ELEMENT_INPUT","component":"RadioGroup","children":[],"props":{"label":"Your decision:","options":[{"value":"approved","label":"Approved"},{"value":"rejected","label":"Rejected"}],"propsRequired":["label","options"],"size":"sm","spacing":"sm","orientation":"vertical","events":{"onChange":""},"required":true,"optionType":"manual","pickListName":"expenseStatus"}},"ORUMwO1B":{"id":"ORUMwO1B","name":"HnAarg","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Processing Expense","order":4,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"T5rGU91K":{"id":"T5rGU91K","name":"ldBIll","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"79tlMDuc":{"id":"79tlMDuc","name":"rejectReason","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Reject reason","inputType":"string","propsRequired":["label"],"validations":{"validate":"(() => {\n  const decision = values.processingExpense.yourDecision;\n\n  if (decision === \"approved\") return true;\n\n  if (decision === \"rejected\" && !rejectReason) {\n    return \"Please fill out rejected reason\";\n  }\n  if (rejectReason.length < 30) {\n    return \"Too short\";\n  }\n\n  return true;\n})();"}}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateExpenseStatus","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateExpenseStatus","trgItemName":"assignOutput"},{"srcOutcomeName":"approve","isFault":false,"nodeAttributes":{},"srcItemName":"isRejected","trgItemName":"getAccountBalance"},{"srcOutcomeName":"reject","isFault":false,"nodeAttributes":{},"srcItemName":"isRejected","trgItemName":"updateExpenseStatus"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAccountBalance","trgItemName":"calculateNewBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"processingExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"calculateNewBalance","trgItemName":"updateAccountBalance"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccountBalance","trgItemName":"updateExpenseStatus"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"processingExpense","trgItemName":"isRejected"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"}],"variables":[{"name":"expenseId","displayName":"Expense ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"newBalance","displayName":"New Balance","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"editCategory","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit Category","description":"","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[{"nodeAttributes":{"position":{"x":539.004,"y":288.75},"pinned":false},"content":"set null for parent category to reset"}],"profiles":[],"items":[{"name":"getCategoryById","displayName":"get category by id","description":"","isSystemDefault":false,"type":"read","expectedInput":["categoryId"],"expectedOutput":["getCategoryById"],"nodeAttributes":{"description":"","position":{"x":312,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"testUpdate","displayName":"update category","description":"","isSystemDefault":false,"type":"update","expectedInput":["editCategory","newParentCategory","categoryId"],"expectedOutput":["testUpdate"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","payload":{"expenseLimit":{"value":"editCategory.expenseLimit","type":"variable"},"parentCategory":{"value":"newParentCategory","type":"variable"},"name":{"value":"editCategory.categoryName","type":"variable"},"categoryStatus":{"value":"editCategory.status","type":"variable"},"description":{"value":"editCategory.description","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateSuccess","displayName":"update success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Category edited successfully`"}}]}},{"name":"fault","displayName":"fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","testUpdate"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":480,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$getCategoryById || {\\$testUpdate}"}}]}},{"name":"editCategory","displayName":"edit category","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editCategory"],"nodeAttributes":{"position":{"x":480,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"editCategory","displayName":"edit category","description":"","label":"edit category","gap":"sm","p":null},"children":["zSMdVnSt","CS3zEMAu","M0hU8GAV","4c0KtLSG","5BfSVD5c"],"name":"editCategory"},"ZPLc7L8z":{"id":"ZPLc7L8z","name":"categoryName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Category Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"getCategoryById.name","type":"variable"},"required":true}},"zSMdVnSt":{"id":"zSMdVnSt","name":"hnAAZ6","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Edit {{getCategoryById.name}} category","order":4,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"5BfSVD5c":{"id":"5BfSVD5c","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"getCategoryById.description","type":"variable"}}},"4c0KtLSG":{"id":"4c0KtLSG","name":"b_K4ffjbgZkiFOBFaWS1i","type":"ELEMENT_COMPONENT","component":"Grid","children":["l4Aphn1h","1eKMYAXf"],"props":{"columns":2}},"l4Aphn1h":{"id":"l4Aphn1h","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","propsRequired":["label","pickListName"],"optionType":"picklist","pickListName":"categoryStatus","defaultValue":{"value":"getCategoryById.categoryStatus","type":"variable"},"required":true,"clearable":true}},"1eKMYAXf":{"id":"1eKMYAXf","name":"parentCategory","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Parent Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"},{"fieldName":"guid","operator":"!==","value":"{{categoryId}}","isVariableMode":true}]],"defaultValue":{"value":"getCategoryById.parentCategory","type":"variable"}}},"nIoO6gBn":{"id":"nIoO6gBn","name":"expenseLimit","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Expense Limit","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"getCategoryById.expenseLimit","type":"variable"}}},"M0hU8GAV":{"id":"M0hU8GAV","name":"qv9M5vGPhCjAI4llx4ja_","type":"ELEMENT_COMPONENT","component":"Grid","children":["ZPLc7L8z","nIoO6gBn"],"props":{"columns":2}},"CS3zEMAu":{"id":"CS3zEMAu","name":"eHYZsM","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}}}}},{"name":"assignNewCatParent","displayName":"assign new cat parent","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newParentCategory","editCategory","$Null"],"expectedOutput":["newParentCategory"],"nodeAttributes":{"position":{"x":576,"y":0}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newParentCategory","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$editCategory}.parentCategory.value !== \"getCategoryById.parentCategory\" ? {\\$editCategory}.parentCategory : {\\$$Null}\n})()"}}]}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getCategoryById","trgItemName":"fault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCategoryById","trgItemName":"editCategory"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"testUpdate","trgItemName":"fault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"testUpdate","trgItemName":"updateSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editCategory","trgItemName":"assignNewCatParent"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignNewCatParent","trgItemName":"testUpdate"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getCategoryById"}],"variables":[{"name":"categoryId","displayName":"category ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"newParentCategory","displayName":"New Parent Category","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"createCategory","isSystemDefault":false,"template":{"version":"v1","displayName":"Create category","description":"edit","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignNewCategoryError","displayName":"assign new category error","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createNewCategory"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":696,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$createNewCategory}"}}]}},{"name":"createNewCategory","displayName":"create new category","description":"","isSystemDefault":false,"type":"create","expectedInput":["newCategory"],"expectedOutput":["createNewCategory"],"nodeAttributes":{"position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","payload":{"parentCategory":{"value":"newCategory.parentCategory","type":"variable"},"description":{"value":"newCategory.description","type":"variable"},"expenseLimit":{"value":"newCategory.expenseLimit","type":"variable"},"name":{"value":"newCategory.categoryName","type":"variable"},"categoryStatus":{"value":"newCategory.status","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"createNewSuccess","displayName":"create new success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`New category created successfully`"}}]}},{"name":"newCategory","displayName":"New Category","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newCategory"],"nodeAttributes":{"position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"newCategory","displayName":"New Category","description":"","label":"New Category","gap":"xs","p":null},"children":["g7P1rEwv","R0jhL9jI","L1cnGymO","5kCq2kch","JM7ovx5K"],"name":"newCategory"},"g7P1rEwv":{"id":"g7P1rEwv","name":"PJnaRw","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Create new category","order":3,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"Z0plqyDJ":{"id":"Z0plqyDJ","name":"categoryName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Category name","inputType":"string","type":"text","propsRequired":["label"],"required":true,"size":"sm"}},"JM7ovx5K":{"id":"JM7ovx5K","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"size":"sm","description":"Can use as a usage guiding","required":true,"placeholder":"In what stituation we will use this category?"}},"wClhC3fE":{"id":"wClhC3fE","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","propsRequired":["label","pickListName"],"size":"sm","radius":"sm","optionType":"picklist","pickListName":"categoryStatus","required":true}},"P9wf2N8u":{"id":"P9wf2N8u","name":"parentCategory","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Parent Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":null,"itemLabelScript":"","propsRequired":["label","objectName"],"size":"sm","radius":"sm","objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]}},"5kCq2kch":{"id":"5kCq2kch","name":"cR93QJFCSKM4mOdAhwLkh","type":"ELEMENT_COMPONENT","component":"Grid","children":["wClhC3fE","P9wf2N8u"],"props":{"columns":2}},"R0jhL9jI":{"id":"R0jhL9jI","name":"5HaKFg","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"L1cnGymO":{"id":"L1cnGymO","name":"p6aYc8RLog8yywnCy23AY","type":"ELEMENT_COMPONENT","component":"Grid","children":["Z0plqyDJ","K5Pgrv5F"],"props":{"columns":2}},"K5Pgrv5F":{"id":"K5Pgrv5F","name":"expenseLimit","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Expense limit","inputType":"integer","propsRequired":["label"],"required":true}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createNewCategory","trgItemName":"assignNewCategoryError"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createNewCategory","trgItemName":"createNewSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newCategory","trgItemName":"createNewCategory"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"newCategory"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"editAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit account","description":"add des","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Updated Account Successfully`"}}]}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateAccount"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":816,"y":336}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateAccount}"}}]}},{"name":"getAccount","displayName":"get account","description":"","isSystemDefault":false,"type":"read","expectedInput":["accountId"],"expectedOutput":["getAccount"],"nodeAttributes":{"description":"","position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"editAccount","displayName":"Edit Account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editAccount"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"editAccount","displayName":"Edit Account","description":"","gap":"xs","label":"Edit Account"},"children":["wFFVNnBS","Kf6a2diV","ALhsPGO8","9VwulreK"],"name":"editAccount"},"wFFVNnBS":{"id":"wFFVNnBS","name":"lHEvZI","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Edit Account Information","order":4,"color":"black","align":"center","transform":"capitalize","size":"sm"}},"Kf6a2diV":{"id":"Kf6a2diV","name":"6iWzHJ","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"ALhsPGO8":{"id":"ALhsPGO8","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","required":true,"propsRequired":["label"],"defaultValue":{"value":"getAccount.name","type":"variable"}}},"9VwulreK":{"id":"9VwulreK","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}}}}},{"name":"updateAccount","displayName":"update account","description":"","isSystemDefault":false,"type":"update","expectedInput":["editAccount","accountId"],"expectedOutput":["updateAccount"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"description":{"value":"editAccount.description","type":"variable"},"name":{"value":"editAccount.name","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAccount","trgItemName":"editAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editAccount","trgItemName":"updateAccount"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getAccount"}],"variables":[{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"test","isSystemDefault":false,"template":{"version":"v1","displayName":"Create new expense","description":"add output\n","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","autoProcess"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1224,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$autoProcess}.output"}}]}},{"name":"createExpense","displayName":"create expense","description":"","isSystemDefault":false,"type":"create","expectedInput":["createNewExpense","selectCategoryAndAccount","$User"],"expectedOutput":["createExpense"],"nodeAttributes":{"description":"","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"account":{"value":"selectCategoryAndAccount.account","type":"variable"},"managedBy":{"value":"$User.id","type":"variable"},"description":{"value":"createNewExpense.description","type":"variable"},"name":{"value":"createNewExpense.name","type":"variable"},"total":{"value":"createNewExpense.amount","type":"variable"},"status":{"value":"createNewExpense.status","type":"variable"},"categories":{"value":"selectCategoryAndAccount.category","type":"variable"}}},"media":{"update":[{"mediaId":{"value":"createNewExpense.bill","type":"variable"},"tagName":{"type":"value","value":"Bill"}}],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccount","displayName":"get selected account","description":"","isSystemDefault":false,"type":"read","expectedInput":["selectCategoryAndAccount"],"expectedOutput":["getSelectedAccount"],"nodeAttributes":{"description":"","position":{"x":600,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"selectCategoryAndAccount.account","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"createNewExpense","displayName":"Create New Expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["createNewExpense"],"nodeAttributes":{"description":"","position":{"x":744,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"createNewExpense","displayName":"Create New Expense","description":"","label":"Create New Expense","gap":"xs"},"children":["p2KWj2f5","pnUiXy6B","TOpYQO4Z","Q8vsxhsN","bOnVmMvt","QlqwNvyP","j9bk2sCy","BfYUJRjv"],"name":"createNewExpense"},"p2KWj2f5":{"id":"p2KWj2f5","name":"aFFzu4","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Expense","order":3,"color":"black","align":"center","transform":"none","size":"sm"}},"pnUiXy6B":{"id":"pnUiXy6B","name":"GSZg1J","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"Q8TeU90o":{"id":"Q8TeU90o","name":"ODWe7A","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["ovhXtloa","m59nBLL1","oZ5lAyq2","MwMdTdCb"],"props":{"flexDirection":"column"}},"G1BUoaZJ":{"id":"G1BUoaZJ","name":"PyW33U","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Account","order":4,"color":"black","align":"left","transform":"none","size":"sm"}},"YrlCzjZl":{"id":"YrlCzjZl","name":"zhnX8X","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["G1BUoaZJ","lmeSwPpj","yYZeO1jD"],"props":{"gap":null,"flexDirection":"column"}},"lmeSwPpj":{"id":"lmeSwPpj","name":"S3iaE0","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["6BkQtY2g","gq5TBW3l"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"yYZeO1jD":{"id":"yYZeO1jD","name":"B9ONCW","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["5MtNEmqW","6rUeigr6"],"props":{"justifyContent":"flex-start","alignItems":"center","gap":"sm"}},"gq5TBW3l":{"id":"gq5TBW3l","name":"kWHtEb","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"6BkQtY2g":{"id":"6BkQtY2g","name":"faQITB","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"6rUeigr6":{"id":"6rUeigr6","name":"mfMBoz","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.cashBalance}}","color":"black","align":"left","transform":"none","size":"sm"}},"5MtNEmqW":{"id":"5MtNEmqW","name":"4XKnSK","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Current Balance","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"ovhXtloa":{"id":"ovhXtloa","name":"JTMMBm","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Category","order":4,"color":"black","align":"left","transform":"none","size":"sm"}},"m59nBLL1":{"id":"m59nBLL1","name":"4Ndw7L","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["qa5Fgriy","s0FqKnQP"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"oZ5lAyq2":{"id":"oZ5lAyq2","name":"lTRUla","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["ZmM52Kx2","e3VvMRl3"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"qa5Fgriy":{"id":"qa5Fgriy","name":"uoNez2","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"s0FqKnQP":{"id":"s0FqKnQP","name":"pk8eHw","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"e3VvMRl3":{"id":"e3VvMRl3","name":"06BRiX","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.expenseLimit}}","color":"black","align":"left","transform":"none","size":"sm"}},"ZmM52Kx2":{"id":"ZmM52Kx2","name":"TXacpi","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Limit on Expense","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"OOgsVi9t":{"id":"OOgsVi9t","name":"GHTrns","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.description}}","color":"black","align":"left","transform":"none","size":"sm"}},"f1R6jBlV":{"id":"f1R6jBlV","name":"8u8OUh","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Description","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"MwMdTdCb":{"id":"MwMdTdCb","name":"Du5zXE","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["f1R6jBlV","OOgsVi9t"],"props":{"flexDirection":"column"}},"Q8vsxhsN":{"id":"Q8vsxhsN","name":"8ogxZi","type":"ELEMENT_COMPONENT","component":"Alert","children":[],"props":{"children":"","color":"gray","radius":"xs","variant":"light","title":"Expense Details"}},"xlHLRvFU":{"id":"xlHLRvFU","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true}},"bOnVmMvt":{"id":"bOnVmMvt","name":"vF2qOrR-ZrxAtU529g4qB","type":"ELEMENT_COMPONENT","component":"Grid","children":["xlHLRvFU","iFCS6V1i"],"props":{"columns":2}},"iFCS6V1i":{"id":"iFCS6V1i","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true}},"BfYUJRjv":{"id":"BfYUJRjv","name":"bill","type":"ELEMENT_INPUT","component":"FileDropzone","children":[],"props":{"label":"Bill","inputMap":{},"isRequired":true}},"QlqwNvyP":{"id":"QlqwNvyP","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","options":[{"value":"draft","label":"Draft"},{"value":"submitted","label":"Submitted"}],"propsRequired":["label","options"],"optionType":"manual","pickListName":null,"required":true,"clearable":true}},"TOpYQO4Z":{"id":"TOpYQO4Z","name":"vfZ1kFUTY15PTLPrJXDjc","type":"ELEMENT_COMPONENT","component":"Grid","children":["YrlCzjZl","Q8TeU90o"],"props":{"columns":2}},"j9bk2sCy":{"id":"j9bk2sCy","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}}}}},{"name":"selectCategoryAndAccount","displayName":"select category and account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["selectCategoryAndAccount"],"nodeAttributes":{"description":"","position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"selectCategoryAndAccount","displayName":"select category and account","description":"","label":"select category and account","gap":"xs"},"children":["CUfidnnW","ARgvoSWE","ISsUGX6t"],"name":"selectCategoryAndAccount"},"yyaoUVu9":{"id":"yyaoUVu9","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"accountName","required":true,"description":"Money source","filters":[]}},"S6WSXDqo":{"id":"S6WSXDqo","name":"category","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"description":"Categories currently active","objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"required":true}},"ARgvoSWE":{"id":"ARgvoSWE","name":"QPLmhe","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"CUfidnnW":{"id":"CUfidnnW","name":"nQEIgq","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New expense","order":3,"color":"black","align":"center","transform":"none","size":"sm"}},"ISsUGX6t":{"id":"ISsUGX6t","name":"CxqvF6doRbvwiYo2dKzp2","type":"ELEMENT_COMPONENT","component":"Grid","children":["yyaoUVu9","S6WSXDqo"],"props":{"columns":2}}}}},{"name":"autoProcess","displayName":"auto process","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["createExpense","selectCategoryAndAccount","$CtxInfo","$User"],"expectedOutput":["autoProcess"],"nodeAttributes":{"description":"","position":{"x":1032,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"recordId":{"value":"createExpense.guid","type":"variable"},"accountId":{"value":"selectCategoryAndAccount.account","type":"variable"}},"subflowName":"processExpense"}},{"name":"getCategoryLimit","displayName":"get category limit","description":"","isSystemDefault":false,"type":"read","expectedInput":["selectCategoryAndAccount"],"expectedOutput":["getCategoryLimit"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","conditionLogic":"and","conditions":[{"fieldName":"categoryStatus","sign":"equals","value":{"type":"value","value":"active"}},{"fieldName":"guid","sign":"equals","value":{"value":"selectCategoryAndAccount.category","type":"variable"}}],"getOptions":"one","getFieldNames":["guid","categoryStatus","description","expenseLimit","name"],"take":null,"sortOrder":"ASC"}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createExpense","trgItemName":"autoProcess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccount","trgItemName":"createNewExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createNewExpense","trgItemName":"createExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"selectCategoryAndAccount","trgItemName":"getCategoryLimit"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoProcess","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCategoryLimit","trgItemName":"getSelectedAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"selectCategoryAndAccount"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"createAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Create account","description":"validate cash balance","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":768,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Created new account successfully`"}}]}},{"name":"createAccount","displayName":"create account","description":"","isSystemDefault":false,"type":"create","expectedInput":["newAccount"],"expectedOutput":["createAccount"],"nodeAttributes":{"description":"","position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"name":{"value":"newAccount.name","type":"variable"},"cashBalance":{"value":"newAccount.cashBalance","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"createDeposit","displayName":"create deposit","description":"","isSystemDefault":false,"type":"create","expectedInput":["createAccount"],"expectedOutput":["createDeposit"],"nodeAttributes":{"description":"","position":{"x":624,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"deposit","payload":{"name":{"type":"value","value":"create new account"},"amount":{"value":"createAccount.cashBalance","type":"variable"},"oldBudget":{"type":"value","value":"0"},"account":{"value":"createAccount.guid","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createAccount","createDeposit"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":552,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$createAccount} || {\\$createDeposit}"}}]}},{"name":"newAccount","displayName":"new account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newAccount"],"nodeAttributes":{"position":{"x":312,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"newAccount","displayName":"new account","description":"","label":"new account","gap":"xs"},"children":["Hl4EkhB7","ae9EmXWf","rKPzq7XQ"],"name":"newAccount"},"m7YI2CEH":{"id":"m7YI2CEH","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true}},"Hl4EkhB7":{"id":"Hl4EkhB7","name":"emr7d9","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Account","order":4,"color":"black","align":"center","transform":"none","size":"sm"}},"ae9EmXWf":{"id":"ae9EmXWf","name":"IWgdmQ","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"rKPzq7XQ":{"id":"rKPzq7XQ","name":"fCqz3o3TuSK3hP7YNp66-","type":"ELEMENT_COMPONENT","component":"Grid","children":["m7YI2CEH","BKtn2LX2"],"props":{"columns":2}},"BKtn2LX2":{"id":"BKtn2LX2","name":"cashBalance","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Cash Balance","inputType":"integer","propsRequired":["label"],"required":true,"validations":{"validate":"(() => {\n  if (cashBalance <= 0) {\n    return \"Cash balance must be positive\";\n  }\n  return true;\n})();\n"}}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createAccount","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createAccount","trgItemName":"createDeposit"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createDeposit","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createDeposit","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newAccount","trgItemName":"createAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"newAccount"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"deposit","isSystemDefault":false,"template":{"version":"v1","displayName":"Deposit","description":"update output","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","getSelectedAccountBalance","addDeposit","updateSelectedAccountBalance"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":600,"y":456}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$getSelectedAccountBalance} || {\\$addDeposit} || {\\$updateSelectedAccountBalance}"}}]}},{"name":"categoryDeposit","displayName":"category deposit","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["categoryDeposit"],"nodeAttributes":{"position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"displayName":"category deposit","description":"","gap":"xs","p":null,"label":"category deposit","name":"categoryDeposit"},"children":["Y3kCOc1k","46P9uNZu","5LChlMBO","7JX718j6","wa3nN3iX","s6rni4HY"],"name":"categoryDeposit"},"7JX718j6":{"id":"7JX718j6","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"size":"sm","radius":"sm","objectName":"accountName","filters":[],"description":"Select one to make a deposit","required":true,"defaultValue":{"value":"accountId","type":"variable"}}},"wa3nN3iX":{"id":"wa3nN3iX","name":"cashAmount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Cash Amount","inputType":"integer","size":"sm","radius":"sm","propsRequired":["label"],"required":true}},"5LChlMBO":{"id":"5LChlMBO","name":"depositName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Deposit Name","inputType":"string","type":"text","size":"sm","required":true,"propsRequired":["label"],"radius":"sm"}},"s6rni4HY":{"id":"s6rni4HY","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","size":"sm","radius":"sm","propsRequired":["label"]}},"Y3kCOc1k":{"id":"Y3kCOc1k","name":"VGyDrY","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Deposit information","order":3,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"46P9uNZu":{"id":"46P9uNZu","name":"EsIZl2","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}}}}},{"name":"sdsd","displayName":"sdsd","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1080,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Deposited successfully. Your account has been updated`"}}]}},{"name":"calcNewBudget","displayName":"calc new budget","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBudget","categoryDeposit","getSelectedAccountBalance"],"expectedOutput":["newBudget"],"nodeAttributes":{"position":{"x":552,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBudget","sign":"assign","value":{"type":"script","value":"Number({\\$categoryDeposit}.cashAmount)+Number({\\$getSelectedAccountBalance}.cashBalance)"}}]}},{"name":"addDeposit","displayName":"add deposit","description":"","isSystemDefault":false,"type":"create","expectedInput":["categoryDeposit","getSelectedAccountBalance"],"expectedOutput":["addDeposit"],"nodeAttributes":{"position":{"x":696,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"deposit","payload":{"account":{"value":"categoryDeposit.account","type":"variable"},"oldBudget":{"value":"getSelectedAccountBalance.cashBalance","type":"variable"},"amount":{"value":"categoryDeposit.cashAmount","type":"variable"},"name":{"value":"categoryDeposit.depositName","type":"variable"},"description":{"value":"categoryDeposit.description","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateSelectedAccountBalance","displayName":"Update selected account balance","description":"by id","isSystemDefault":false,"type":"update","expectedInput":["newBudget","categoryDeposit"],"expectedOutput":["updateSelectedAccountBalance"],"nodeAttributes":{"description":"by id","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBudget","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryDeposit.account","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccountBalance","displayName":"get selected account balance","description":"by id","isSystemDefault":false,"type":"read","expectedInput":["categoryDeposit"],"expectedOutput":["getSelectedAccountBalance"],"nodeAttributes":{"description":"by id","position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryDeposit.account","type":"variable"}}],"getOptions":"one","take":null}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"categoryDeposit","trgItemName":"getSelectedAccountBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"calcNewBudget","trgItemName":"addDeposit"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"addDeposit","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"addDeposit","trgItemName":"updateSelectedAccountBalance"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateSelectedAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateSelectedAccountBalance","trgItemName":"sdsd"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getSelectedAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccountBalance","trgItemName":"calcNewBudget"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"categoryDeposit"}],"variables":[{"name":"newBudget","displayName":"New Budget","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"action","name":"processExpense","isSystemDefault":false,"template":{"version":"v1","displayName":"process expense","description":"","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignEditedDraft","displayName":"assign edited draft","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1032,"y":96}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Operation on draft expense successfully`"}}]}},{"name":"assignNewAccountBalance","displayName":"assign new account balance","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBalance","getSelectedAccount","getExpense"],"expectedOutput":["newBalance"],"nodeAttributes":{"position":{"x":1128,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBalance","sign":"assign","value":{"type":"script","value":"(()=>{\n  return Number({\\$getSelectedAccount}.cashBalance-{\\$getExpense}.total)\n})()"}}]}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1344,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`An email has been sent to the manager and your expense has been queued for processing`"}}]}},{"name":"assignOutputSuccess","displayName":"assign output success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1296,"y":192}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Account balance has been updated`"}}]}},{"name":"assignRequestBody","displayName":"Assign request body","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["emailContent","billUrl"],"expectedOutput":["emailContent"],"nodeAttributes":{"description":"","position":{"x":1032,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"emailContent","sign":"assign","value":{"type":"script","value":"`<div><span style=\"font-family: Roboto, sans-serif; font-size:18px;\"><b>You have a new expense need to process</b></span><div/><div style=\"margin-top:10px;font-size:15px;\"><a href=\"https://nexpense.nflow.staging.nuclent.com/default/processingExpenses\" target=\"_blank\" rel=\"noreferrer\">Click here to go to the process page</a></div><div><img style=\"width:50%;\" src=\"{\\$billUrl}\" alt=\"bill_image\"/></div></div>`"}}]}},{"name":"assignThreshold","displayName":"assign threshold","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["autoAprroved","getSettings","managerEmail","emailSubject"],"expectedOutput":["autoAprroved","managerEmail","emailSubject"],"nodeAttributes":{"description":"","position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"autoAprroved","sign":"assign","value":{"type":"script","value":"(()=>{\n    return Number({\\$getSettings}.filter(config=>config.name===\"AUTO_APPROVAL_THRESHOLD\")[0].value)\n  })()"}},{"variable":"managerEmail","value":{"type":"script","value":"(()=>{\n  return {\\$getSettings}.filter(config=>config.name===\"MANAGER_EMAIL\")[0].value\n})()"},"sign":"assign"},{"variable":"emailSubject","value":{"type":"script","value":"(()=>{\n return {\\$getSettings}.filter(config=>config.name===\"EMAIL_SUBJECT\")[0].value\n})()"},"sign":"assign"}]}},{"name":"autoAprrovedExpense","displayName":"auto aprroved expense","description":"","isSystemDefault":false,"type":"update","expectedInput":["recordId"],"expectedOutput":["autoAprrovedExpense"],"nodeAttributes":{"description":"","position":{"x":936,"y":360}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"status":{"type":"value","value":"approved"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"recordId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"check","displayName":"check","description":"","isSystemDefault":false,"type":"decision","expectedInput":["getExpense","autoAprroved"],"expectedOutput":[],"nodeAttributes":{"position":{"x":792,"y":144}},"maxConnections":3,"hasFaultConnection":false,"attributes":{"order":["submittedLowerThanThreshold","draftExpense"],"outcomes":{"submittedLowerThanThreshold":{"name":"submittedLowerThanThreshold","displayName":"Submitted lower than threshold","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"getExpense.total","type":"variable"},"sign":"<=","value":{"value":"autoAprroved","type":"variable"}},{"conditionNumber":2,"field":{"value":"getExpense.status","type":"variable"},"sign":"===","value":{"type":"value","value":"submitted"}}]},"draftExpense":{"name":"draftExpense","displayName":"draft expense","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"getExpense.status","type":"variable"},"sign":"===","value":{"type":"value","value":"draft"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"getSettings","displayName":"get settings","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getSettings"],"nodeAttributes":{"description":"","position":{"x":504,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","conditionLogic":"and","conditions":[],"getOptions":"all","take":null}}},{"name":"sendEmail","displayName":"send email","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["emailContent","managerEmail","emailSubject","$CtxInfo","$User"],"expectedOutput":["sendEmail"],"nodeAttributes":{"description":"","position":{"x":1200,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"value":{"value":"emailContent","type":"variable"},"toEmail":{"value":"managerEmail","type":"variable"},"subject":{"value":"emailSubject","type":"variable"}},"subflowName":"sendEmail"}},{"name":"updateAccount","displayName":"update account","description":"","isSystemDefault":false,"type":"update","expectedInput":["newBalance","accountId"],"expectedOutput":["updateAccount"],"nodeAttributes":{"description":"","position":{"x":1128,"y":192}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBalance","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccount","displayName":"get selected account","description":"","isSystemDefault":false,"type":"read","expectedInput":["accountId"],"expectedOutput":["getSelectedAccount"],"nodeAttributes":{"position":{"x":384,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}],"getOptions":"one","getFieldNames":null,"take":null,"sortOrder":"ASC"}}},{"name":"assignBillImgUrl","displayName":"Assign bill img url","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["billUrl","getExpense"],"expectedOutput":["billUrl"],"nodeAttributes":{"position":{"x":864,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"billUrl","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getExpense}.$Media[0].url\n}) ()"}}]}},{"name":"getExpense","displayName":"get expense","description":"","isSystemDefault":false,"type":"read","expectedInput":["recordId"],"expectedOutput":["getExpense"],"nodeAttributes":{"position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"recordId","type":"variable"}}],"getOptions":"one","take":null,"getFieldNames":null,"sortOrder":"ASC"}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignBillImgUrl"},{"srcOutcomeName":"draftExpense","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignEditedDraft"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoAprrovedExpense","trgItemName":"assignNewAccountBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"sendEmail","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignOutputSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignBillImgUrl","trgItemName":"assignRequestBody"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSettings","trgItemName":"assignThreshold"},{"srcOutcomeName":"submittedLowerThanThreshold","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"autoAprrovedExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignThreshold","trgItemName":"check"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccount","trgItemName":"getSettings"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignRequestBody","trgItemName":"sendEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignNewAccountBalance","trgItemName":"updateAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"getSelectedAccount"}],"variables":[{"name":"autoAprroved","displayName":"auto aprroved","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"billUrl","displayName":"bill url","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"emailContent","displayName":"Email Content","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"managerEmail","displayName":"manager email","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"emailSubject","displayName":"email subject","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"recordId","displayName":"record id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"newBalance","displayName":"new balance","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"deleteAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit expense","description":"add edit submitted","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"addNewBill","displayName":"add new bill","description":"","isSystemDefault":false,"type":"update","expectedInput":["editExpense","$User","expenseId"],"expectedOutput":["addNewBill"],"nodeAttributes":{"description":"","position":{"x":1176,"y":24}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"managedBy":{"value":"$User.id","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[{"mediaId":{"value":"editExpense.bill","type":"variable"},"tagName":{"type":"value","value":"Bill"}}],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","editExpense","getExpense"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":480,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$editExpense} || {\\$getExpense}"}}]}},{"name":"assignOldBillUrl","displayName":"assign old bill url","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["oldBillUrl","getExpense"],"expectedOutput":["oldBillUrl"],"nodeAttributes":{"description":"","position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"oldBillUrl","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$getExpense}.$Media[0].url\n})()"}}]}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","autoProcess"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1392,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$autoProcess}.output"}}]}},{"name":"autoProcess","displayName":"auto process","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["expenseId","getExpense","$CtxInfo","$User"],"expectedOutput":["autoProcess"],"nodeAttributes":{"description":"","position":{"x":1176,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"recordId":{"value":"expenseId","type":"variable"},"accountId":{"value":"getExpense.account","type":"variable"}},"subflowName":"processExpense"}},{"name":"editExpense","displayName":"edit expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editExpense"],"nodeAttributes":{"position":{"x":552,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"displayName":"edit expense","description":"","label":"edit expense","gap":"xs","name":"editExpense"},"children":["p2KWj2f5","pnUiXy6B","TOpYQO4Z","Q8vsxhsN","bOnVmMvt","QlqwNvyP","TWhMDGHJ","tIma2eA3","lRAV46km","BfYUJRjv"],"name":"editExpense"},"p2KWj2f5":{"id":"p2KWj2f5","name":"aFFzu4","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"edit Expense","order":3,"color":"black","align":"center","transform":"capitalize","size":"sm"}},"pnUiXy6B":{"id":"pnUiXy6B","name":"GSZg1J","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"gq5TBW3l":{"id":"gq5TBW3l","name":"kWHtEb","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"6BkQtY2g":{"id":"6BkQtY2g","name":"faQITB","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"Q8vsxhsN":{"id":"Q8vsxhsN","name":"8ogxZi","type":"ELEMENT_COMPONENT","component":"Alert","children":[],"props":{"children":"","color":"gray","radius":"xs","variant":"light","title":"Expense Details"}},"xlHLRvFU":{"id":"xlHLRvFU","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true,"defaultValue":{"value":"getExpense.name","type":"variable"}}},"bOnVmMvt":{"id":"bOnVmMvt","name":"vF2qOrR-ZrxAtU529g4qB","type":"ELEMENT_COMPONENT","component":"Grid","children":["xlHLRvFU","iFCS6V1i"],"props":{"columns":2}},"iFCS6V1i":{"id":"iFCS6V1i","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"getExpense.total","type":"variable"}}},"BfYUJRjv":{"id":"BfYUJRjv","name":"bill","type":"ELEMENT_INPUT","component":"FileDropzone","children":[],"props":{"label":"Bill","inputMap":{},"isRequired":false}},"QlqwNvyP":{"id":"QlqwNvyP","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","options":[{"value":"draft","label":"Draft"},{"value":"submitted","label":"Submitted"}],"propsRequired":["label","options"],"optionType":"manual","pickListName":null,"required":true,"clearable":true,"defaultValue":{"value":"getExpense.status","type":"variable"}}},"TOpYQO4Z":{"id":"TOpYQO4Z","name":"vfZ1kFUTY15PTLPrJXDjc","type":"ELEMENT_COMPONENT","component":"Grid","children":["J3cBkwzx","P6hV8pGR"],"props":{"columns":2}},"J3cBkwzx":{"id":"J3cBkwzx","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"accountName","defaultValue":{"value":"getExpense.account","type":"variable"}}},"P6hV8pGR":{"id":"P6hV8pGR","name":"category","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"defaultValue":{"value":"getExpense.categories","type":"variable"}}},"TWhMDGHJ":{"id":"TWhMDGHJ","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"getExpense.description","type":"variable"}}},"lRAV46km":{"id":"lRAV46km","name":"currentBill","type":"ELEMENT_INPUT","component":"ReactComponent","children":[],"props":{"value":"const {Image, Container, Text} = MantineCore;\n\nfunction CurrentBill() {\n  const {ctx} = useFlowViewer();\n\n  const {origin} = location\n  const {oldBillUrl} = ctx\n  let link = oldBillUrl\n   if (link.startsWith(\"https://\") && origin.startsWith(\"http://\")) {\n        link= link.replace('https','http')\n    }\n\n  return <Container w='100%' px={0}>\n      <Text fz='sm' fw='500'>Current Bill Image</Text>\n    <Image src={link} height='300px' fit='contain' radius='sm' />\n  </Container>\n}\n\nexport default CurrentBill;","inputType":"object","label":"current bill"}},"tIma2eA3":{"id":"tIma2eA3","name":"editReason","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Edit Reason","inputType":"string","validations":{"validate":""},"propsRequired":["label"],"description":""}}}}},{"name":"getExpense","displayName":"get expense","description":"","isSystemDefault":false,"type":"read","expectedInput":["expenseId"],"expectedOutput":["getExpense"],"nodeAttributes":{"position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}},{"fieldName":"status","sign":"notEquals","value":{"type":"value","value":"approved"}},{"fieldName":"status","sign":"notEquals","value":{"type":"value","value":"rejected"}}],"getOptions":"one","take":null}}},{"name":"isNewBillIncluded","displayName":"is new bill included","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["checkIsNewBillIncluded","editExpense","$True","$False"],"expectedOutput":["checkIsNewBillIncluded"],"nodeAttributes":{"description":"","position":{"x":792,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"checkIsNewBillIncluded","sign":"assign","value":{"type":"script","value":"{\\$editExpense}.bill ? {\\$$True} : {\\$$False}"}}]}},{"name":"isNewBillUploaded","displayName":"is new bill uploaded","description":"","isSystemDefault":false,"type":"decision","expectedInput":["checkIsNewBillIncluded","$True"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":936,"y":144}},"maxConnections":2,"hasFaultConnection":false,"attributes":{"order":["includedNewBill"],"outcomes":{"includedNewBill":{"name":"includedNewBill","displayName":"included new bill","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"checkIsNewBillIncluded","type":"variable"},"sign":"===","value":{"value":"$True","type":"variable"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"updateExpense","displayName":"update expense","description":"","isSystemDefault":false,"type":"update","expectedInput":["editExpense","expenseId"],"expectedOutput":["updateExpense"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"editReason":{"value":"editExpense.editReason","type":"variable"},"name":{"value":"editExpense.name","type":"variable"},"total":{"value":"editExpense.amount","type":"variable"},"description":{"value":"editExpense.description","type":"variable"},"status":{"value":"editExpense.status","type":"variable"},"categories":{"value":"editExpense.category","type":"variable"},"account":{"value":"editExpense.account","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignOldBillUrl","trgItemName":"editExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillIncluded","trgItemName":"isNewBillUploaded"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillUploaded","trgItemName":"autoProcess"},{"srcOutcomeName":"includedNewBill","isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillUploaded","trgItemName":"addNewBill"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"addNewBill","trgItemName":"autoProcess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoProcess","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateExpense","trgItemName":"isNewBillIncluded"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateExpense","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"assignOldBillUrl"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editExpense","trgItemName":"updateExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"expenseId","displayName":"Expense ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"oldBillUrl","displayName":"old bill url","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"checkIsNewBillIncluded","displayName":"check is new bill included","description":null,"isSystemDefault":false,"type":"boolean","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flows","data":{"type":"screen","name":"changeAppSettings","isSystemDefault":false,"template":{"version":"v3","displayName":"Change App Settings","description":"edit","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[{"nodeAttributes":{"position":{"x":575.005,"y":497.271},"pinned":false},"content":"no settings => create screen"}],"profiles":[],"items":[{"name":"createManagerEmail","displayName":"create manager email","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings","email"],"expectedOutput":["createManagerEmail"],"nodeAttributes":{"position":{"x":840,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.emailSettingName"},"value":{"type":"variable","value":"email"},"description":{"type":"variable","value":"newSettings.managerDescription"}}}}},{"name":"checkIfSettingsExist","displayName":"check if settings exist","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["check","getAllConfig","approvalName"],"expectedOutput":["check"],"nodeAttributes":{"description":"","position":{"x":384,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"check","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getAllConfig}.some(e=>e.name===`{\\$approvalName}`)\n}) ()"}}]}},{"name":"createEmailSubject","displayName":"create email subject","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings"],"expectedOutput":["createEmailSubject"],"nodeAttributes":{"description":"","position":{"x":1008,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.subjectSettingName"},"value":{"type":"variable","value":"newSettings.value"},"description":{"type":"variable","value":"newSettings.subjectDescription"}}}}},{"name":"createThreshold","displayName":"create threshold","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings","thresholdToString"],"expectedOutput":["createThreshold"],"nodeAttributes":{"description":"","position":{"x":672,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.thresholdSettingName"},"value":{"type":"variable","value":"thresholdToString"},"description":{"type":"variable","value":"newSettings.thresholdDescription"}}}}},{"name":"convertThreshold","displayName":"convert threshold and get email","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["thresholdToString","newSettings","email","getUsers"],"expectedOutput":["thresholdToString","email"],"nodeAttributes":{"description":"","position":{"x":672,"y":600}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"thresholdToString","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$newSettings}.amount.toString()\n}) ()"}},{"variable":"email","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=>i.guid==={\\$newSettings}.email)?.email\n}) ()"}}]}},{"name":"createSuccess","displayName":"create success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1152,"y":720}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return `Your application settings have been saved successfully`\n}) ()"}}]}},{"name":"getFault","displayName":"get fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createThreshold","createManagerEmail","createEmailSubject"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":768,"y":1008}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$createThreshold} || {\\$createManagerEmail} || {\\$createEmailSubject}\n}) ()"}}]}},{"name":"getUsers","displayName":"get users","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getUsers"],"nodeAttributes":{"description":"","position":{"x":264,"y":288}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"user","getFieldNames":null,"getOptions":"all","take":100,"conditions":[{"fieldName":"email","sign":"isNotNull"}],"conditionLogic":"and","sortOrder":"ASC"}}},{"name":"editAppValue","displayName":"Editing App Settings","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editAppValue"],"nodeAttributes":{"description":"","position":{"x":696,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":true,"showFooter":true,"showWarningOnTermination":false,"displayName":"Editing App Settings","description":"","label":"Editing App Settings","name":"editAppValue"},"children":["cxLCLhci"],"name":"editAppValue"},"cxLCLhci":{"id":"cxLCLhci","name":"bySk8n","type":"ELEMENT_COMPONENT","component":"Tabs","children":["QuooB50Gca8K5ifYUyRRG","ftnDcyJ29YwHdwPhbd2za","-9WPo3PZ1G54KtyRWTcKn"],"props":{"variant":"default","orientation":"horizontal"}},"QuooB50Gca8K5ifYUyRRG":{"id":"QuooB50Gca8K5ifYUyRRG","name":"276BWN","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["438UkHWS","e4HLO5vz"],"props":{"flexDirection":"column","title":"Auto approval threshold","icon":"Coins","gap":"xs"}},"ftnDcyJ29YwHdwPhbd2za":{"id":"ftnDcyJ29YwHdwPhbd2za","name":"OE6HQ5","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["kouUznxL","LEr0kJ2o"],"props":{"flexDirection":"column","title":"Manager email","icon":"UserCog","gap":"xs"}},"-9WPo3PZ1G54KtyRWTcKn":{"id":"-9WPo3PZ1G54KtyRWTcKn","name":"wJ7VBO","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["QJK0JmYa","EyDEKy8S"],"props":{"flexDirection":"column","title":"Email subject","icon":"MailCog","gap":"xs"}},"8lA3Cvoq":{"id":"8lA3Cvoq","name":"thresholdSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Threshold Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"autoAprrovedName","type":"variable"}}},"e4HLO5vz":{"id":"e4HLO5vz","name":"thresholdDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"autoApprovalTheshold.description","type":"variable"}}},"REFEIeGn":{"id":"REFEIeGn","name":"emailSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Email Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"managerEmailName","type":"variable"}}},"LEr0kJ2o":{"id":"LEr0kJ2o","name":"managerDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"managerEmail.description","type":"variable"}}},"tN8HWrST":{"id":"tN8HWrST","name":"subjectSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Subject Setting Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"emailSubjectName","type":"variable"},"disabled":true}},"QJK0JmYa":{"id":"QJK0JmYa","name":"zNZq0qaMuRxGTRSegiSjZ","type":"ELEMENT_COMPONENT","component":"Grid","children":["tN8HWrST","y59q83cm"],"props":{"columns":2}},"y59q83cm":{"id":"y59q83cm","name":"value","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Value","inputType":"string","type":"text","propsRequired":["label"],"required":true,"defaultValue":{"value":"emailSubject.value","type":"variable"}}},"EyDEKy8S":{"id":"EyDEKy8S","name":"subjectDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"emailSubject.description","type":"variable"}}},"kouUznxL":{"id":"kouUznxL","name":"CoSMMONHXZNVaFyiOleVv","type":"ELEMENT_COMPONENT","component":"Grid","children":["REFEIeGn","Yn2c30HJ"],"props":{"columns":2}},"438UkHWS":{"id":"438UkHWS","name":"rXvHq0ymNu-8XAtNGfcqj","type":"ELEMENT_COMPONENT","component":"Grid","children":["8lA3Cvoq","IijgzI8s"],"props":{"columns":2}},"Yn2c30HJ":{"id":"Yn2c30HJ","name":"email","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Email","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"email","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"user","defaultValue":{"value":"currentManager","type":"variable"},"required":true,"filters":[[{"fieldName":"email","operator":"isNotNull","value":""}]]}},"IijgzI8s":{"id":"IijgzI8s","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"autoApprovalTheshold.value","type":"variable"}}}}}},{"name":"getCurrentEmail","displayName":"get current email","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["currentManager","getUsers","managerEmail"],"expectedOutput":["currentManager"],"nodeAttributes":{"description":"","position":{"x":576,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"currentManager","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=> i.email === {\\$managerEmail}.value)?.guid\n}) ()"}}]}},{"name":"assignConfigs","displayName":"assign configs","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["autoApprovalTheshold","getAllConfig","approvalName","managerEmail","managerEmailName","emailSubject","emailSubjectName"],"expectedOutput":["autoApprovalTheshold","managerEmail","emailSubject"],"nodeAttributes":{"description":"","position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"autoApprovalTheshold","sign":"assign","value":{"type":"script","value":"(()=>{\nconst record = {\\$getAllConfig}.filter(config=>config.name===`{\\$approvalName}`)[0];\nreturn {...record,value:Number(record.value)}\n})()"}},{"variable":"managerEmail","value":{"type":"script","value":"(()=>{\n  return {\\$getAllConfig}.filter(config=>config.name===`{\\$managerEmailName}`)[0]\n})()"},"sign":"assign"},{"variable":"emailSubject","value":{"type":"script","value":"(()=>{\n  return {\\$getAllConfig}.filter(config=>config.name===`{\\$emailSubjectName}`)[0]\n})()"},"sign":"assign"}]}},{"name":"newThresholdToString","displayName":"new threshold to string","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["thresholdToString","editAppValue","email","getUsers"],"expectedOutput":["thresholdToString","email"],"nodeAttributes":{"description":"","position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"thresholdToString","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$editAppValue}.amount.toString();\n})()"}},{"variable":"email","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=>i.guid==={\\$editAppValue}.email)?.email\n}) ()"},"sign":"assign"}]}},{"name":"check","displayName":"check","description":"","isSystemDefault":false,"type":"decision","expectedInput":["check","$True"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":504,"y":360}},"maxConnections":2,"hasFaultConnection":false,"attributes":{"order":["settingsExisted"],"outcomes":{"settingsExisted":{"name":"settingsExisted","displayName":"settings existed","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"check","type":"variable"},"sign":"===","value":{"value":"$True","type":"variable"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"assignSuccess","displayName":"assign success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1440,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return `Your application settings have been updated successfully`\n}) ()"}}]}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateThreshold","updateManagerEmail","updateEmailSubject"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1056,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateThreshold} || {\\$updateManagerEmail} || {\\$updateEmailSubject}"}}]}},{"name":"updateManagerEmail","displayName":"update manager email","description":"","isSystemDefault":false,"type":"update","expectedInput":["email","editAppValue","managerEmail"],"expectedOutput":["updateManagerEmail"],"nodeAttributes":{"position":{"x":1128,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"email","type":"variable"},"description":{"type":"variable","value":"editAppValue.managerDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"managerEmail.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateEmailSubject","displayName":"update email subject","description":"","isSystemDefault":false,"type":"update","expectedInput":["editAppValue","emailSubject"],"expectedOutput":["updateEmailSubject"],"nodeAttributes":{"position":{"x":1272,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"editAppValue.value","type":"variable"},"description":{"type":"variable","value":"editAppValue.subjectDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"emailSubject.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateThreshold","displayName":"update threshold","description":"","isSystemDefault":false,"type":"update","expectedInput":["thresholdToString","editAppValue","autoApprovalTheshold"],"expectedOutput":["updateThreshold"],"nodeAttributes":{"description":"","position":{"x":960,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"thresholdToString","type":"variable"},"description":{"type":"variable","value":"editAppValue.thresholdDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"autoApprovalTheshold.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getAllConfig","displayName":"get all config","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getAllConfig"],"nodeAttributes":{"description":"","position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","conditionLogic":"and","conditions":[],"getOptions":"all","take":null}}},{"name":"newSettings","displayName":"Create App Settings","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newSettings"],"nodeAttributes":{"description":"","position":{"x":528,"y":600}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":true,"showFooter":true,"showWarningOnTermination":false,"name":"newSettings","displayName":"Create App Settings","description":"","label":"Create App Settings"},"children":["cxLCLhci"],"name":"newSettings"},"cxLCLhci":{"id":"cxLCLhci","name":"bySk8n","type":"ELEMENT_COMPONENT","component":"Tabs","children":["QuooB50Gca8K5ifYUyRRG","ftnDcyJ29YwHdwPhbd2za","-9WPo3PZ1G54KtyRWTcKn"],"props":{"variant":"default","orientation":"horizontal"}},"QuooB50Gca8K5ifYUyRRG":{"id":"QuooB50Gca8K5ifYUyRRG","name":"276BWN","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["438UkHWS","e4HLO5vz"],"props":{"flexDirection":"column","title":"Auto approval threshold","icon":"Coins","gap":"xs"}},"ftnDcyJ29YwHdwPhbd2za":{"id":"ftnDcyJ29YwHdwPhbd2za","name":"OE6HQ5","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["kouUznxL","LEr0kJ2o"],"props":{"flexDirection":"column","title":"Manager email","icon":"UserCog","gap":"xs"}},"-9WPo3PZ1G54KtyRWTcKn":{"id":"-9WPo3PZ1G54KtyRWTcKn","name":"wJ7VBO","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["QJK0JmYa","EyDEKy8S"],"props":{"flexDirection":"column","title":"Email subject","icon":"MailCog","gap":"xs"}},"8lA3Cvoq":{"id":"8lA3Cvoq","name":"thresholdSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Threshold Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"approvalName","type":"variable"}}},"e4HLO5vz":{"id":"e4HLO5vz","name":"thresholdDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"REFEIeGn":{"id":"REFEIeGn","name":"emailSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Email Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"managerEmailName","type":"variable"}}},"LEr0kJ2o":{"id":"LEr0kJ2o","name":"managerDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"tN8HWrST":{"id":"tN8HWrST","name":"subjectSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Subject Setting Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"emailSubjectName","type":"variable"},"disabled":true}},"QJK0JmYa":{"id":"QJK0JmYa","name":"zNZq0qaMuRxGTRSegiSjZ","type":"ELEMENT_COMPONENT","component":"Grid","children":["tN8HWrST","y59q83cm"],"props":{"columns":2}},"y59q83cm":{"id":"y59q83cm","name":"value","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Value","inputType":"string","type":"text","propsRequired":["label"],"required":true,"placeholder":""}},"EyDEKy8S":{"id":"EyDEKy8S","name":"subjectDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"kouUznxL":{"id":"kouUznxL","name":"CoSMMONHXZNVaFyiOleVv","type":"ELEMENT_COMPONENT","component":"Grid","children":["REFEIeGn","Yn2c30HJ"],"props":{"columns":2}},"438UkHWS":{"id":"438UkHWS","name":"rXvHq0ymNu-8XAtNGfcqj","type":"ELEMENT_COMPONENT","component":"Grid","children":["8lA3Cvoq","IijgzI8s"],"props":{"columns":2}},"Yn2c30HJ":{"id":"Yn2c30HJ","name":"email","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Email","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"email","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"user","filters":[[{"fieldName":"email","operator":"isNotNull","value":""}]],"required":true}},"IijgzI8s":{"id":"IijgzI8s","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true}}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getAllConfig"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newThresholdToString","trgItemName":"updateThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateManagerEmail","trgItemName":"updateEmailSubject"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateManagerEmail","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateEmailSubject","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateThreshold","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateEmailSubject","trgItemName":"assignSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateThreshold","trgItemName":"updateManagerEmail"},{"srcOutcomeName":"settingsExisted","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignConfigs"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"checkIfSettingsExist","trgItemName":"check"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"newSettings"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newSettings","trgItemName":"convertThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createManagerEmail","trgItemName":"createEmailSubject"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createThreshold","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createManagerEmail","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createEmailSubject","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createEmailSubject","trgItemName":"createSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editAppValue","trgItemName":"newThresholdToString"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAllConfig","trgItemName":"getUsers"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getUsers","trgItemName":"checkIfSettingsExist"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignConfigs","trgItemName":"getCurrentEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCurrentEmail","trgItemName":"editAppValue"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"convertThreshold","trgItemName":"createThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createThreshold","trgItemName":"createManagerEmail"}],"variables":[{"name":"thresholdToString","displayName":"threshold to string","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"autoApprovalTheshold","displayName":"auto approval theshold","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"managerEmail","displayName":"manager email","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"emailSubject","displayName":"email subject","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"email","displayName":"email","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"check","displayName":"check","description":null,"isSystemDefault":false,"type":"boolean","isForInput":false,"isForOutput":false,"attributes":{}},{"name":"managerEmailName","displayName":"manager email name","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"MANAGER_EMAIL"}},{"name":"emailSubjectName","displayName":"email subject name","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"EMAIL_SUBJECT"}},{"name":"currentManager","displayName":"currentManager","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{}},{"name":"approvalName","displayName":"approvalName","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"AUTO_APPROVAL_THRESHOLD"}}]}}}
{"entityType":"flowDetail","data":{"type":"action","name":"sendEmail","isSystemDefault":false,"template":{"version":"v1","displayName":"Send email","description":null,"status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"sendEmail","displayName":"Send Email","description":"","isSystemDefault":false,"type":"action","expectedInput":["authorization","contentType","requestBody"],"expectedOutput":["sendEmail"],"nodeAttributes":{"description":"","position":{"x":840,"y":144}},"maxConnections":3,"hasFaultConnection":true,"attributes":{"inputMap":{"header.Authorization":{"value":"authorization","type":"variable"},"header.Content-Type":{"value":"contentType","type":"variable"},"body":{"value":"requestBody","type":"variable"}},"actionMetadataName":"sendMail","bodyAssetFields":[]}},{"name":"assignHeader","displayName":"Assign header","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["authorization","contentType"],"expectedOutput":["authorization","contentType"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"authorization","sign":"assign","value":{"type":"value","value":"Bearer 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"}},{"variable":"contentType","value":{"type":"value","value":"application/json"},"sign":"assign"}]}},{"name":"assignRequestBody","displayName":"Assign request body","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["requestBody","toEmail","fromEmail","subject","value"],"expectedOutput":["requestBody"],"nodeAttributes":{"position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"requestBody","sign":"assign","value":{"type":"script","value":"({\n    \"personalizations\": [\n        {\n            \"to\": [\n                {\n                    \"email\": \"{\\$toEmail}\" ||\"test123@gmail.com\"\n                }\n            ]\n        }\n    ],\n    \"from\": {\n        \"email\": \"{\\$fromEmail}\" || \"no-reply@staging.nuclent.com\"\n    },\n    \"subject\": \"{\\$subject}\",\n    \"content\": [\n        {\n            \"type\": \"text/html\",\n            \"value\": `<html><head></head><body><div>{\\$value}<div/></body></html>`\n        }\n    ]\n})"}}]}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignHeader","trgItemName":"assignRequestBody"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignRequestBody","trgItemName":"sendEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"assignHeader"}],"variables":[{"name":"authorization","displayName":"Authorization","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"contentType","displayName":"Content type","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"requestBody","displayName":"Request body","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"value","displayName":"Value","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"toEmail","displayName":"To Email","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"fromEmail","displayName":"From Email","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"subject","displayName":"Subject","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"outputCode","displayName":"Output Code","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"rejectExpense","isSystemDefault":false,"template":{"version":"v1","displayName":"Process Expense","description":"edit validation","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"updateExpenseStatus","displayName":"update expense status","description":"","isSystemDefault":false,"type":"update","expectedInput":["processingExpense","expenseId"],"expectedOutput":["updateExpenseStatus"],"nodeAttributes":{"description":"","position":{"x":744,"y":384}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"rejectReason":{"value":"processingExpense.rejectReason","type":"variable"},"status":{"value":"processingExpense.yourDecision","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"isRejected","displayName":"Is Rejected","description":"","isSystemDefault":false,"type":"decision","expectedInput":["processingExpense"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":360,"y":384}},"maxConnections":3,"hasFaultConnection":false,"attributes":{"order":["reject","approve"],"outcomes":{"reject":{"name":"reject","displayName":"Reject","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"processingExpense.yourDecision","type":"variable"},"sign":"===","value":{"type":"value","value":"rejected"}}]},"approve":{"name":"approve","displayName":"Approve","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"processingExpense.yourDecision","type":"variable"},"sign":"===","value":{"type":"value","value":"approved"}}]}},"defaultOutcomeLabel":"default"}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1008,"y":288}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Expense processed successfully. The status has been updated`"}}]}},{"name":"getAccountBalance","displayName":"get account balance","description":"","isSystemDefault":false,"type":"read","expectedInput":["getExpense"],"expectedOutput":["getAccountBalance"],"nodeAttributes":{"description":"","position":{"x":456,"y":576}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"getExpense.account","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"getExpense","displayName":"get expense","description":"by id","isSystemDefault":false,"type":"read","expectedInput":["expenseId"],"expectedOutput":["getExpense"],"nodeAttributes":{"description":"by id","position":{"x":144,"y":264}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"calculateNewBalance","displayName":"calculate new balance","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBalance","getAccountBalance","getExpense"],"expectedOutput":["newBalance"],"nodeAttributes":{"description":"","position":{"x":600,"y":576}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBalance","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$getAccountBalance}.cashBalance - {\\$getExpense}.total\n})()"}}]}},{"name":"updateAccountBalance","displayName":"update account balance","description":"","isSystemDefault":false,"type":"update","expectedInput":["newBalance","getExpense"],"expectedOutput":["updateAccountBalance"],"nodeAttributes":{"description":"","position":{"x":744,"y":576}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBalance","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"getExpense.account","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateExpenseStatus","updateAccountBalance"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1080,"y":480}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateExpenseStatus} || {\\$updateAccountBalance}"}}]}},{"name":"processingExpense","displayName":"Processing Expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["processingExpense"],"nodeAttributes":{"position":{"x":144,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"processingExpense","displayName":"Processing Expense","description":"","label":"Processing Expense","gap":"xs","p":null,"css":""},"children":["ORUMwO1B","T5rGU91K","nI2FSZyE","79tlMDuc"],"name":"processingExpense"},"nI2FSZyE":{"id":"nI2FSZyE","name":"yourDecision","type":"ELEMENT_INPUT","component":"RadioGroup","children":[],"props":{"label":"Your decision:","options":[{"value":"approved","label":"Approved"},{"value":"rejected","label":"Rejected"}],"propsRequired":["label","options"],"size":"sm","spacing":"sm","orientation":"vertical","events":{"onChange":""},"required":true,"optionType":"manual","pickListName":"expenseStatus"}},"ORUMwO1B":{"id":"ORUMwO1B","name":"HnAarg","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Processing Expense","order":4,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"T5rGU91K":{"id":"T5rGU91K","name":"ldBIll","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"79tlMDuc":{"id":"79tlMDuc","name":"rejectReason","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Reject reason","inputType":"string","propsRequired":["label"],"validations":{"validate":"(() => {\n  const decision = values.processingExpense.yourDecision;\n\n  if (decision === \"approved\") return true;\n\n  if (decision === \"rejected\" && !rejectReason) {\n    return \"Please fill out rejected reason\";\n  }\n  if (rejectReason.length < 30) {\n    return \"Too short\";\n  }\n\n  return true;\n})();"}}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateExpenseStatus","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateExpenseStatus","trgItemName":"assignOutput"},{"srcOutcomeName":"approve","isFault":false,"nodeAttributes":{},"srcItemName":"isRejected","trgItemName":"getAccountBalance"},{"srcOutcomeName":"reject","isFault":false,"nodeAttributes":{},"srcItemName":"isRejected","trgItemName":"updateExpenseStatus"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAccountBalance","trgItemName":"calculateNewBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"processingExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"calculateNewBalance","trgItemName":"updateAccountBalance"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccountBalance","trgItemName":"updateExpenseStatus"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"processingExpense","trgItemName":"isRejected"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"}],"variables":[{"name":"expenseId","displayName":"Expense ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"newBalance","displayName":"New Balance","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"editCategory","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit Category","description":"","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[{"nodeAttributes":{"position":{"x":539.004,"y":288.75},"pinned":false},"content":"set null for parent category to reset"}],"profiles":[],"items":[{"name":"getCategoryById","displayName":"get category by id","description":"","isSystemDefault":false,"type":"read","expectedInput":["categoryId"],"expectedOutput":["getCategoryById"],"nodeAttributes":{"description":"","position":{"x":312,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"testUpdate","displayName":"update category","description":"","isSystemDefault":false,"type":"update","expectedInput":["editCategory","newParentCategory","categoryId"],"expectedOutput":["testUpdate"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","payload":{"expenseLimit":{"value":"editCategory.expenseLimit","type":"variable"},"parentCategory":{"value":"newParentCategory","type":"variable"},"name":{"value":"editCategory.categoryName","type":"variable"},"categoryStatus":{"value":"editCategory.status","type":"variable"},"description":{"value":"editCategory.description","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateSuccess","displayName":"update success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Category edited successfully`"}}]}},{"name":"fault","displayName":"fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","testUpdate"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":480,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$getCategoryById || {\\$testUpdate}"}}]}},{"name":"editCategory","displayName":"edit category","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editCategory"],"nodeAttributes":{"position":{"x":480,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"editCategory","displayName":"edit category","description":"","label":"edit category","gap":"sm","p":null},"children":["zSMdVnSt","CS3zEMAu","M0hU8GAV","4c0KtLSG","5BfSVD5c"],"name":"editCategory"},"ZPLc7L8z":{"id":"ZPLc7L8z","name":"categoryName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Category Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"getCategoryById.name","type":"variable"},"required":true}},"zSMdVnSt":{"id":"zSMdVnSt","name":"hnAAZ6","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Edit {{getCategoryById.name}} category","order":4,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"5BfSVD5c":{"id":"5BfSVD5c","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"getCategoryById.description","type":"variable"}}},"4c0KtLSG":{"id":"4c0KtLSG","name":"b_K4ffjbgZkiFOBFaWS1i","type":"ELEMENT_COMPONENT","component":"Grid","children":["l4Aphn1h","1eKMYAXf"],"props":{"columns":2}},"l4Aphn1h":{"id":"l4Aphn1h","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","propsRequired":["label","pickListName"],"optionType":"picklist","pickListName":"categoryStatus","defaultValue":{"value":"getCategoryById.categoryStatus","type":"variable"},"required":true,"clearable":true}},"1eKMYAXf":{"id":"1eKMYAXf","name":"parentCategory","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Parent Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"},{"fieldName":"guid","operator":"!==","value":"{{categoryId}}","isVariableMode":true}]],"defaultValue":{"value":"getCategoryById.parentCategory","type":"variable"}}},"nIoO6gBn":{"id":"nIoO6gBn","name":"expenseLimit","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Expense Limit","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"getCategoryById.expenseLimit","type":"variable"}}},"M0hU8GAV":{"id":"M0hU8GAV","name":"qv9M5vGPhCjAI4llx4ja_","type":"ELEMENT_COMPONENT","component":"Grid","children":["ZPLc7L8z","nIoO6gBn"],"props":{"columns":2}},"CS3zEMAu":{"id":"CS3zEMAu","name":"eHYZsM","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}}}}},{"name":"assignNewCatParent","displayName":"assign new cat parent","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newParentCategory","editCategory","$Null"],"expectedOutput":["newParentCategory"],"nodeAttributes":{"position":{"x":576,"y":0}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newParentCategory","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$editCategory}.parentCategory.value !== \"getCategoryById.parentCategory\" ? {\\$editCategory}.parentCategory : {\\$$Null}\n})()"}}]}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getCategoryById","trgItemName":"fault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCategoryById","trgItemName":"editCategory"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"testUpdate","trgItemName":"fault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"testUpdate","trgItemName":"updateSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editCategory","trgItemName":"assignNewCatParent"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignNewCatParent","trgItemName":"testUpdate"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getCategoryById"}],"variables":[{"name":"categoryId","displayName":"category ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"newParentCategory","displayName":"New Parent Category","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"createCategory","isSystemDefault":false,"template":{"version":"v1","displayName":"Create category","description":"edit","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignNewCategoryError","displayName":"assign new category error","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createNewCategory"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":696,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$createNewCategory}"}}]}},{"name":"createNewCategory","displayName":"create new category","description":"","isSystemDefault":false,"type":"create","expectedInput":["newCategory"],"expectedOutput":["createNewCategory"],"nodeAttributes":{"position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","payload":{"parentCategory":{"value":"newCategory.parentCategory","type":"variable"},"description":{"value":"newCategory.description","type":"variable"},"expenseLimit":{"value":"newCategory.expenseLimit","type":"variable"},"name":{"value":"newCategory.categoryName","type":"variable"},"categoryStatus":{"value":"newCategory.status","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"createNewSuccess","displayName":"create new success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`New category created successfully`"}}]}},{"name":"newCategory","displayName":"New Category","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newCategory"],"nodeAttributes":{"position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"newCategory","displayName":"New Category","description":"","label":"New Category","gap":"xs","p":null},"children":["g7P1rEwv","R0jhL9jI","L1cnGymO","5kCq2kch","JM7ovx5K"],"name":"newCategory"},"g7P1rEwv":{"id":"g7P1rEwv","name":"PJnaRw","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Create new category","order":3,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"Z0plqyDJ":{"id":"Z0plqyDJ","name":"categoryName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Category name","inputType":"string","type":"text","propsRequired":["label"],"required":true,"size":"sm"}},"JM7ovx5K":{"id":"JM7ovx5K","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"size":"sm","description":"Can use as a usage guiding","required":true,"placeholder":"In what stituation we will use this category?"}},"wClhC3fE":{"id":"wClhC3fE","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","propsRequired":["label","pickListName"],"size":"sm","radius":"sm","optionType":"picklist","pickListName":"categoryStatus","required":true}},"P9wf2N8u":{"id":"P9wf2N8u","name":"parentCategory","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Parent Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":null,"itemLabelScript":"","propsRequired":["label","objectName"],"size":"sm","radius":"sm","objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]]}},"5kCq2kch":{"id":"5kCq2kch","name":"cR93QJFCSKM4mOdAhwLkh","type":"ELEMENT_COMPONENT","component":"Grid","children":["wClhC3fE","P9wf2N8u"],"props":{"columns":2}},"R0jhL9jI":{"id":"R0jhL9jI","name":"5HaKFg","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"L1cnGymO":{"id":"L1cnGymO","name":"p6aYc8RLog8yywnCy23AY","type":"ELEMENT_COMPONENT","component":"Grid","children":["Z0plqyDJ","K5Pgrv5F"],"props":{"columns":2}},"K5Pgrv5F":{"id":"K5Pgrv5F","name":"expenseLimit","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Expense limit","inputType":"integer","propsRequired":["label"],"required":true}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createNewCategory","trgItemName":"assignNewCategoryError"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createNewCategory","trgItemName":"createNewSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newCategory","trgItemName":"createNewCategory"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"newCategory"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"editAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit account","description":"add des","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Updated Account Successfully`"}}]}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateAccount"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":816,"y":336}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateAccount}"}}]}},{"name":"getAccount","displayName":"get account","description":"","isSystemDefault":false,"type":"read","expectedInput":["accountId"],"expectedOutput":["getAccount"],"nodeAttributes":{"description":"","position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"editAccount","displayName":"Edit Account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editAccount"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"editAccount","displayName":"Edit Account","description":"","gap":"xs","label":"Edit Account"},"children":["wFFVNnBS","Kf6a2diV","ALhsPGO8","9VwulreK"],"name":"editAccount"},"wFFVNnBS":{"id":"wFFVNnBS","name":"lHEvZI","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Edit Account Information","order":4,"color":"black","align":"center","transform":"capitalize","size":"sm"}},"Kf6a2diV":{"id":"Kf6a2diV","name":"6iWzHJ","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"ALhsPGO8":{"id":"ALhsPGO8","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","required":true,"propsRequired":["label"],"defaultValue":{"value":"getAccount.name","type":"variable"}}},"9VwulreK":{"id":"9VwulreK","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}}}}},{"name":"updateAccount","displayName":"update account","description":"","isSystemDefault":false,"type":"update","expectedInput":["editAccount","accountId"],"expectedOutput":["updateAccount"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"description":{"value":"editAccount.description","type":"variable"},"name":{"value":"editAccount.name","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAccount","trgItemName":"editAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editAccount","trgItemName":"updateAccount"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getAccount"}],"variables":[{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"test","isSystemDefault":false,"template":{"version":"v1","displayName":"Create new expense","description":"add output\n","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","autoProcess"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1224,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$autoProcess}.output"}}]}},{"name":"createExpense","displayName":"create expense","description":"","isSystemDefault":false,"type":"create","expectedInput":["createNewExpense","selectCategoryAndAccount","$User"],"expectedOutput":["createExpense"],"nodeAttributes":{"description":"","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"account":{"value":"selectCategoryAndAccount.account","type":"variable"},"managedBy":{"value":"$User.id","type":"variable"},"description":{"value":"createNewExpense.description","type":"variable"},"name":{"value":"createNewExpense.name","type":"variable"},"total":{"value":"createNewExpense.amount","type":"variable"},"status":{"value":"createNewExpense.status","type":"variable"},"categories":{"value":"selectCategoryAndAccount.category","type":"variable"}}},"media":{"update":[{"mediaId":{"value":"createNewExpense.bill","type":"variable"},"tagName":{"type":"value","value":"Bill"}}],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccount","displayName":"get selected account","description":"","isSystemDefault":false,"type":"read","expectedInput":["selectCategoryAndAccount"],"expectedOutput":["getSelectedAccount"],"nodeAttributes":{"description":"","position":{"x":600,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"selectCategoryAndAccount.account","type":"variable"}}],"getOptions":"one","take":null}}},{"name":"createNewExpense","displayName":"Create New Expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["createNewExpense"],"nodeAttributes":{"description":"","position":{"x":744,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"createNewExpense","displayName":"Create New Expense","description":"","label":"Create New Expense","gap":"xs"},"children":["p2KWj2f5","pnUiXy6B","TOpYQO4Z","Q8vsxhsN","bOnVmMvt","QlqwNvyP","j9bk2sCy","BfYUJRjv"],"name":"createNewExpense"},"p2KWj2f5":{"id":"p2KWj2f5","name":"aFFzu4","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Expense","order":3,"color":"black","align":"center","transform":"none","size":"sm"}},"pnUiXy6B":{"id":"pnUiXy6B","name":"GSZg1J","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"Q8TeU90o":{"id":"Q8TeU90o","name":"ODWe7A","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["ovhXtloa","m59nBLL1","oZ5lAyq2","MwMdTdCb"],"props":{"flexDirection":"column"}},"G1BUoaZJ":{"id":"G1BUoaZJ","name":"PyW33U","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Account","order":4,"color":"black","align":"left","transform":"none","size":"sm"}},"YrlCzjZl":{"id":"YrlCzjZl","name":"zhnX8X","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["G1BUoaZJ","lmeSwPpj","yYZeO1jD"],"props":{"gap":null,"flexDirection":"column"}},"lmeSwPpj":{"id":"lmeSwPpj","name":"S3iaE0","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["6BkQtY2g","gq5TBW3l"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"yYZeO1jD":{"id":"yYZeO1jD","name":"B9ONCW","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["5MtNEmqW","6rUeigr6"],"props":{"justifyContent":"flex-start","alignItems":"center","gap":"sm"}},"gq5TBW3l":{"id":"gq5TBW3l","name":"kWHtEb","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"6BkQtY2g":{"id":"6BkQtY2g","name":"faQITB","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"6rUeigr6":{"id":"6rUeigr6","name":"mfMBoz","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.cashBalance}}","color":"black","align":"left","transform":"none","size":"sm"}},"5MtNEmqW":{"id":"5MtNEmqW","name":"4XKnSK","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Current Balance","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"ovhXtloa":{"id":"ovhXtloa","name":"JTMMBm","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"Category","order":4,"color":"black","align":"left","transform":"none","size":"sm"}},"m59nBLL1":{"id":"m59nBLL1","name":"4Ndw7L","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["qa5Fgriy","s0FqKnQP"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"oZ5lAyq2":{"id":"oZ5lAyq2","name":"lTRUla","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["ZmM52Kx2","e3VvMRl3"],"props":{"justifyContent":"flex-start","alignItems":"center","flexDirection":"row","gap":"sm"}},"qa5Fgriy":{"id":"qa5Fgriy","name":"uoNez2","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"s0FqKnQP":{"id":"s0FqKnQP","name":"pk8eHw","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"e3VvMRl3":{"id":"e3VvMRl3","name":"06BRiX","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.expenseLimit}}","color":"black","align":"left","transform":"none","size":"sm"}},"ZmM52Kx2":{"id":"ZmM52Kx2","name":"TXacpi","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Limit on Expense","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"OOgsVi9t":{"id":"OOgsVi9t","name":"GHTrns","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getCategoryLimit.description}}","color":"black","align":"left","transform":"none","size":"sm"}},"f1R6jBlV":{"id":"f1R6jBlV","name":"8u8OUh","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Description","color":"black","align":"left","transform":"none","size":"sm","weight":700}},"MwMdTdCb":{"id":"MwMdTdCb","name":"Du5zXE","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["f1R6jBlV","OOgsVi9t"],"props":{"flexDirection":"column"}},"Q8vsxhsN":{"id":"Q8vsxhsN","name":"8ogxZi","type":"ELEMENT_COMPONENT","component":"Alert","children":[],"props":{"children":"","color":"gray","radius":"xs","variant":"light","title":"Expense Details"}},"xlHLRvFU":{"id":"xlHLRvFU","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true}},"bOnVmMvt":{"id":"bOnVmMvt","name":"vF2qOrR-ZrxAtU529g4qB","type":"ELEMENT_COMPONENT","component":"Grid","children":["xlHLRvFU","iFCS6V1i"],"props":{"columns":2}},"iFCS6V1i":{"id":"iFCS6V1i","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true}},"BfYUJRjv":{"id":"BfYUJRjv","name":"bill","type":"ELEMENT_INPUT","component":"FileDropzone","children":[],"props":{"label":"Bill","inputMap":{},"isRequired":true}},"QlqwNvyP":{"id":"QlqwNvyP","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","options":[{"value":"draft","label":"Draft"},{"value":"submitted","label":"Submitted"}],"propsRequired":["label","options"],"optionType":"manual","pickListName":null,"required":true,"clearable":true}},"TOpYQO4Z":{"id":"TOpYQO4Z","name":"vfZ1kFUTY15PTLPrJXDjc","type":"ELEMENT_COMPONENT","component":"Grid","children":["YrlCzjZl","Q8TeU90o"],"props":{"columns":2}},"j9bk2sCy":{"id":"j9bk2sCy","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}}}}},{"name":"selectCategoryAndAccount","displayName":"select category and account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["selectCategoryAndAccount"],"nodeAttributes":{"description":"","position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"selectCategoryAndAccount","displayName":"select category and account","description":"","label":"select category and account","gap":"xs"},"children":["CUfidnnW","ARgvoSWE","ISsUGX6t"],"name":"selectCategoryAndAccount"},"yyaoUVu9":{"id":"yyaoUVu9","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"accountName","required":true,"description":"Money source","filters":[]}},"S6WSXDqo":{"id":"S6WSXDqo","name":"category","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"description":"Categories currently active","objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"required":true}},"ARgvoSWE":{"id":"ARgvoSWE","name":"QPLmhe","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"CUfidnnW":{"id":"CUfidnnW","name":"nQEIgq","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New expense","order":3,"color":"black","align":"center","transform":"none","size":"sm"}},"ISsUGX6t":{"id":"ISsUGX6t","name":"CxqvF6doRbvwiYo2dKzp2","type":"ELEMENT_COMPONENT","component":"Grid","children":["yyaoUVu9","S6WSXDqo"],"props":{"columns":2}}}}},{"name":"autoProcess","displayName":"auto process","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["createExpense","selectCategoryAndAccount","$CtxInfo","$User"],"expectedOutput":["autoProcess"],"nodeAttributes":{"description":"","position":{"x":1032,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"recordId":{"value":"createExpense.guid","type":"variable"},"accountId":{"value":"selectCategoryAndAccount.account","type":"variable"}},"subflowName":"processExpense"}},{"name":"getCategoryLimit","displayName":"get category limit","description":"","isSystemDefault":false,"type":"read","expectedInput":["selectCategoryAndAccount"],"expectedOutput":["getCategoryLimit"],"nodeAttributes":{"position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"categories","conditionLogic":"and","conditions":[{"fieldName":"categoryStatus","sign":"equals","value":{"type":"value","value":"active"}},{"fieldName":"guid","sign":"equals","value":{"value":"selectCategoryAndAccount.category","type":"variable"}}],"getOptions":"one","getFieldNames":["guid","categoryStatus","description","expenseLimit","name"],"take":null,"sortOrder":"ASC"}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createExpense","trgItemName":"autoProcess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccount","trgItemName":"createNewExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createNewExpense","trgItemName":"createExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"selectCategoryAndAccount","trgItemName":"getCategoryLimit"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoProcess","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCategoryLimit","trgItemName":"getSelectedAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"selectCategoryAndAccount"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"createAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Create account","description":"validate cash balance","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":768,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Created new account successfully`"}}]}},{"name":"createAccount","displayName":"create account","description":"","isSystemDefault":false,"type":"create","expectedInput":["newAccount"],"expectedOutput":["createAccount"],"nodeAttributes":{"description":"","position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"name":{"value":"newAccount.name","type":"variable"},"cashBalance":{"value":"newAccount.cashBalance","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"createDeposit","displayName":"create deposit","description":"","isSystemDefault":false,"type":"create","expectedInput":["createAccount"],"expectedOutput":["createDeposit"],"nodeAttributes":{"description":"","position":{"x":624,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"deposit","payload":{"name":{"type":"value","value":"create new account"},"amount":{"value":"createAccount.cashBalance","type":"variable"},"oldBudget":{"type":"value","value":"0"},"account":{"value":"createAccount.guid","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createAccount","createDeposit"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":552,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$createAccount} || {\\$createDeposit}"}}]}},{"name":"newAccount","displayName":"new account","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newAccount"],"nodeAttributes":{"position":{"x":312,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"name":"newAccount","displayName":"new account","description":"","label":"new account","gap":"xs"},"children":["Hl4EkhB7","ae9EmXWf","rKPzq7XQ"],"name":"newAccount"},"m7YI2CEH":{"id":"m7YI2CEH","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true}},"Hl4EkhB7":{"id":"Hl4EkhB7","name":"emr7d9","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Account","order":4,"color":"black","align":"center","transform":"none","size":"sm"}},"ae9EmXWf":{"id":"ae9EmXWf","name":"IWgdmQ","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"rKPzq7XQ":{"id":"rKPzq7XQ","name":"fCqz3o3TuSK3hP7YNp66-","type":"ELEMENT_COMPONENT","component":"Grid","children":["m7YI2CEH","BKtn2LX2"],"props":{"columns":2}},"BKtn2LX2":{"id":"BKtn2LX2","name":"cashBalance","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Cash Balance","inputType":"integer","propsRequired":["label"],"required":true,"validations":{"validate":"(() => {\n  if (cashBalance <= 0) {\n    return \"Cash balance must be positive\";\n  }\n  return true;\n})();\n"}}}}}}],"connections":[{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createAccount","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createAccount","trgItemName":"createDeposit"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createDeposit","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createDeposit","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newAccount","trgItemName":"createAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"newAccount"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"deposit","isSystemDefault":false,"template":{"version":"v1","displayName":"Deposit","description":"update output","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","getSelectedAccountBalance","addDeposit","updateSelectedAccountBalance"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":600,"y":456}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$getSelectedAccountBalance} || {\\$addDeposit} || {\\$updateSelectedAccountBalance}"}}]}},{"name":"categoryDeposit","displayName":"category deposit","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["categoryDeposit"],"nodeAttributes":{"position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"displayName":"category deposit","description":"","gap":"xs","p":null,"label":"category deposit","name":"categoryDeposit"},"children":["Y3kCOc1k","46P9uNZu","5LChlMBO","7JX718j6","wa3nN3iX","s6rni4HY"],"name":"categoryDeposit"},"7JX718j6":{"id":"7JX718j6","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"size":"sm","radius":"sm","objectName":"accountName","filters":[],"description":"Select one to make a deposit","required":true,"defaultValue":{"value":"accountId","type":"variable"}}},"wa3nN3iX":{"id":"wa3nN3iX","name":"cashAmount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Cash Amount","inputType":"integer","size":"sm","radius":"sm","propsRequired":["label"],"required":true}},"5LChlMBO":{"id":"5LChlMBO","name":"depositName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Deposit Name","inputType":"string","type":"text","size":"sm","required":true,"propsRequired":["label"],"radius":"sm"}},"s6rni4HY":{"id":"s6rni4HY","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","size":"sm","radius":"sm","propsRequired":["label"]}},"Y3kCOc1k":{"id":"Y3kCOc1k","name":"VGyDrY","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"New Deposit information","order":3,"color":"app","align":"center","transform":"capitalize","size":"sm"}},"46P9uNZu":{"id":"46P9uNZu","name":"EsIZl2","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}}}}},{"name":"sdsd","displayName":"sdsd","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1080,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Deposited successfully. Your account has been updated`"}}]}},{"name":"calcNewBudget","displayName":"calc new budget","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBudget","categoryDeposit","getSelectedAccountBalance"],"expectedOutput":["newBudget"],"nodeAttributes":{"position":{"x":552,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBudget","sign":"assign","value":{"type":"script","value":"Number({\\$categoryDeposit}.cashAmount)+Number({\\$getSelectedAccountBalance}.cashBalance)"}}]}},{"name":"addDeposit","displayName":"add deposit","description":"","isSystemDefault":false,"type":"create","expectedInput":["categoryDeposit","getSelectedAccountBalance"],"expectedOutput":["addDeposit"],"nodeAttributes":{"position":{"x":696,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"deposit","payload":{"account":{"value":"categoryDeposit.account","type":"variable"},"oldBudget":{"value":"getSelectedAccountBalance.cashBalance","type":"variable"},"amount":{"value":"categoryDeposit.cashAmount","type":"variable"},"name":{"value":"categoryDeposit.depositName","type":"variable"},"description":{"value":"categoryDeposit.description","type":"variable"}}},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateSelectedAccountBalance","displayName":"Update selected account balance","description":"by id","isSystemDefault":false,"type":"update","expectedInput":["newBudget","categoryDeposit"],"expectedOutput":["updateSelectedAccountBalance"],"nodeAttributes":{"description":"by id","position":{"x":888,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBudget","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryDeposit.account","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccountBalance","displayName":"get selected account balance","description":"by id","isSystemDefault":false,"type":"read","expectedInput":["categoryDeposit"],"expectedOutput":["getSelectedAccountBalance"],"nodeAttributes":{"description":"by id","position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"categoryDeposit.account","type":"variable"}}],"getOptions":"one","take":null}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"categoryDeposit","trgItemName":"getSelectedAccountBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"calcNewBudget","trgItemName":"addDeposit"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"addDeposit","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"addDeposit","trgItemName":"updateSelectedAccountBalance"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateSelectedAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateSelectedAccountBalance","trgItemName":"sdsd"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getSelectedAccountBalance","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccountBalance","trgItemName":"calcNewBudget"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"categoryDeposit"}],"variables":[{"name":"newBudget","displayName":"New Budget","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"action","name":"processExpense","isSystemDefault":false,"template":{"version":"v1","displayName":"process expense","description":"","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"assignEditedDraft","displayName":"assign edited draft","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1032,"y":96}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Operation on draft expense successfully`"}}]}},{"name":"assignNewAccountBalance","displayName":"assign new account balance","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["newBalance","getSelectedAccount","getExpense"],"expectedOutput":["newBalance"],"nodeAttributes":{"position":{"x":1128,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"newBalance","sign":"assign","value":{"type":"script","value":"(()=>{\n  return Number({\\$getSelectedAccount}.cashBalance-{\\$getExpense}.total)\n})()"}}]}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1344,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`An email has been sent to the manager and your expense has been queued for processing`"}}]}},{"name":"assignOutputSuccess","displayName":"assign output success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1296,"y":192}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"`Account balance has been updated`"}}]}},{"name":"assignRequestBody","displayName":"Assign request body","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["emailContent","billUrl"],"expectedOutput":["emailContent"],"nodeAttributes":{"description":"","position":{"x":1032,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"emailContent","sign":"assign","value":{"type":"script","value":"`<div><span style=\"font-family: Roboto, sans-serif; font-size:18px;\"><b>You have a new expense need to process</b></span><div/><div style=\"margin-top:10px;font-size:15px;\"><a href=\"https://nexpense.nflow.staging.nuclent.com/default/processingExpenses\" target=\"_blank\" rel=\"noreferrer\">Click here to go to the process page</a></div><div><img style=\"width:50%;\" src=\"{\\$billUrl}\" alt=\"bill_image\"/></div></div>`"}}]}},{"name":"assignThreshold","displayName":"assign threshold","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["autoAprroved","getSettings","managerEmail","emailSubject"],"expectedOutput":["autoAprroved","managerEmail","emailSubject"],"nodeAttributes":{"description":"","position":{"x":648,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"autoAprroved","sign":"assign","value":{"type":"script","value":"(()=>{\n    return Number({\\$getSettings}.filter(config=>config.name===\"AUTO_APPROVAL_THRESHOLD\")[0].value)\n  })()"}},{"variable":"managerEmail","value":{"type":"script","value":"(()=>{\n  return {\\$getSettings}.filter(config=>config.name===\"MANAGER_EMAIL\")[0].value\n})()"},"sign":"assign"},{"variable":"emailSubject","value":{"type":"script","value":"(()=>{\n return {\\$getSettings}.filter(config=>config.name===\"EMAIL_SUBJECT\")[0].value\n})()"},"sign":"assign"}]}},{"name":"autoAprrovedExpense","displayName":"auto aprroved expense","description":"","isSystemDefault":false,"type":"update","expectedInput":["recordId"],"expectedOutput":["autoAprrovedExpense"],"nodeAttributes":{"description":"","position":{"x":936,"y":360}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"status":{"type":"value","value":"approved"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"recordId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"check","displayName":"check","description":"","isSystemDefault":false,"type":"decision","expectedInput":["getExpense","autoAprroved"],"expectedOutput":[],"nodeAttributes":{"position":{"x":792,"y":144}},"maxConnections":3,"hasFaultConnection":false,"attributes":{"order":["submittedLowerThanThreshold","draftExpense"],"outcomes":{"submittedLowerThanThreshold":{"name":"submittedLowerThanThreshold","displayName":"Submitted lower than threshold","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"getExpense.total","type":"variable"},"sign":"<=","value":{"value":"autoAprroved","type":"variable"}},{"conditionNumber":2,"field":{"value":"getExpense.status","type":"variable"},"sign":"===","value":{"type":"value","value":"submitted"}}]},"draftExpense":{"name":"draftExpense","displayName":"draft expense","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"getExpense.status","type":"variable"},"sign":"===","value":{"type":"value","value":"draft"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"getSettings","displayName":"get settings","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getSettings"],"nodeAttributes":{"description":"","position":{"x":504,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","conditionLogic":"and","conditions":[],"getOptions":"all","take":null}}},{"name":"sendEmail","displayName":"send email","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["emailContent","managerEmail","emailSubject","$CtxInfo","$User"],"expectedOutput":["sendEmail"],"nodeAttributes":{"description":"","position":{"x":1200,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"value":{"value":"emailContent","type":"variable"},"toEmail":{"value":"managerEmail","type":"variable"},"subject":{"value":"emailSubject","type":"variable"}},"subflowName":"sendEmail"}},{"name":"updateAccount","displayName":"update account","description":"","isSystemDefault":false,"type":"update","expectedInput":["newBalance","accountId"],"expectedOutput":["updateAccount"],"nodeAttributes":{"description":"","position":{"x":1128,"y":192}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","payload":{"cashBalance":{"value":"newBalance","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getSelectedAccount","displayName":"get selected account","description":"","isSystemDefault":false,"type":"read","expectedInput":["accountId"],"expectedOutput":["getSelectedAccount"],"nodeAttributes":{"position":{"x":384,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"accountName","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"accountId","type":"variable"}}],"getOptions":"one","getFieldNames":null,"take":null,"sortOrder":"ASC"}}},{"name":"assignBillImgUrl","displayName":"Assign bill img url","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["billUrl","getExpense"],"expectedOutput":["billUrl"],"nodeAttributes":{"position":{"x":864,"y":-48}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"billUrl","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getExpense}.$Media[0].url\n}) ()"}}]}},{"name":"getExpense","displayName":"get expense","description":"","isSystemDefault":false,"type":"read","expectedInput":["recordId"],"expectedOutput":["getExpense"],"nodeAttributes":{"position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"recordId","type":"variable"}}],"getOptions":"one","take":null,"getFieldNames":null,"sortOrder":"ASC"}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignBillImgUrl"},{"srcOutcomeName":"draftExpense","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignEditedDraft"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoAprrovedExpense","trgItemName":"assignNewAccountBalance"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"sendEmail","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateAccount","trgItemName":"assignOutputSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignBillImgUrl","trgItemName":"assignRequestBody"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSettings","trgItemName":"assignThreshold"},{"srcOutcomeName":"submittedLowerThanThreshold","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"autoAprrovedExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignThreshold","trgItemName":"check"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getSelectedAccount","trgItemName":"getSettings"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignRequestBody","trgItemName":"sendEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignNewAccountBalance","trgItemName":"updateAccount"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"getSelectedAccount"}],"variables":[{"name":"autoAprroved","displayName":"auto aprroved","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"billUrl","displayName":"bill url","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"emailContent","displayName":"Email Content","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"managerEmail","displayName":"manager email","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"emailSubject","displayName":"email subject","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"recordId","displayName":"record id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"newBalance","displayName":"new balance","description":null,"isSystemDefault":false,"type":"integer","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"accountId","displayName":"account id","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"deleteAccount","isSystemDefault":false,"template":{"version":"v1","displayName":"Edit expense","description":"add edit submitted","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[],"profiles":[],"items":[{"name":"addNewBill","displayName":"add new bill","description":"","isSystemDefault":false,"type":"update","expectedInput":["editExpense","$User","expenseId"],"expectedOutput":["addNewBill"],"nodeAttributes":{"description":"","position":{"x":1176,"y":24}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"managedBy":{"value":"$User.id","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[{"mediaId":{"value":"editExpense.bill","type":"variable"},"tagName":{"type":"value","value":"Bill"}}],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","editExpense","getExpense"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":480,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$editExpense} || {\\$getExpense}"}}]}},{"name":"assignOldBillUrl","displayName":"assign old bill url","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["oldBillUrl","getExpense"],"expectedOutput":["oldBillUrl"],"nodeAttributes":{"description":"","position":{"x":408,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"oldBillUrl","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$getExpense}.$Media[0].url\n})()"}}]}},{"name":"assignOutput","displayName":"assign output","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","autoProcess"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1392,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$autoProcess}.output"}}]}},{"name":"autoProcess","displayName":"auto process","description":"","isSystemDefault":false,"type":"sub-flow","expectedInput":["expenseId","getExpense","$CtxInfo","$User"],"expectedOutput":["autoProcess"],"nodeAttributes":{"description":"","position":{"x":1176,"y":312}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"inputMap":{"recordId":{"value":"expenseId","type":"variable"},"accountId":{"value":"getExpense.account","type":"variable"}},"subflowName":"processExpense"}},{"name":"editExpense","displayName":"edit expense","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editExpense"],"nodeAttributes":{"position":{"x":552,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":false,"showFooter":true,"showWarningOnTermination":true,"displayName":"edit expense","description":"","label":"edit expense","gap":"xs","name":"editExpense"},"children":["p2KWj2f5","pnUiXy6B","TOpYQO4Z","Q8vsxhsN","bOnVmMvt","QlqwNvyP","TWhMDGHJ","tIma2eA3","lRAV46km","BfYUJRjv"],"name":"editExpense"},"p2KWj2f5":{"id":"p2KWj2f5","name":"aFFzu4","type":"ELEMENT_DISPLAY","component":"Heading","children":[],"props":{"children":"edit Expense","order":3,"color":"black","align":"center","transform":"capitalize","size":"sm"}},"pnUiXy6B":{"id":"pnUiXy6B","name":"GSZg1J","type":"ELEMENT_COMPONENT","component":"Divider","children":[],"props":{"label":"","labelPosition":"left","size":"xs","variant":"solid"}},"gq5TBW3l":{"id":"gq5TBW3l","name":"kWHtEb","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"{{getSelectedAccount.name}}","color":"black","align":"left","transform":"none","size":"sm"}},"6BkQtY2g":{"id":"6BkQtY2g","name":"faQITB","type":"ELEMENT_DISPLAY","component":"Text","children":[],"props":{"children":"Name","color":"black","align":"left","transform":"capitalize","size":"sm","weight":700}},"Q8vsxhsN":{"id":"Q8vsxhsN","name":"8ogxZi","type":"ELEMENT_COMPONENT","component":"Alert","children":[],"props":{"children":"","color":"gray","radius":"xs","variant":"light","title":"Expense Details"}},"xlHLRvFU":{"id":"xlHLRvFU","name":"name","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Name","inputType":"string","type":"text","propsRequired":["label"],"required":true,"defaultValue":{"value":"getExpense.name","type":"variable"}}},"bOnVmMvt":{"id":"bOnVmMvt","name":"vF2qOrR-ZrxAtU529g4qB","type":"ELEMENT_COMPONENT","component":"Grid","children":["xlHLRvFU","iFCS6V1i"],"props":{"columns":2}},"iFCS6V1i":{"id":"iFCS6V1i","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"getExpense.total","type":"variable"}}},"BfYUJRjv":{"id":"BfYUJRjv","name":"bill","type":"ELEMENT_INPUT","component":"FileDropzone","children":[],"props":{"label":"Bill","inputMap":{},"isRequired":false}},"QlqwNvyP":{"id":"QlqwNvyP","name":"status","type":"ELEMENT_INPUT","component":"Select","children":[],"props":{"label":"Status","inputType":"string","options":[{"value":"draft","label":"Draft"},{"value":"submitted","label":"Submitted"}],"propsRequired":["label","options"],"optionType":"manual","pickListName":null,"required":true,"clearable":true,"defaultValue":{"value":"getExpense.status","type":"variable"}}},"TOpYQO4Z":{"id":"TOpYQO4Z","name":"vfZ1kFUTY15PTLPrJXDjc","type":"ELEMENT_COMPONENT","component":"Grid","children":["J3cBkwzx","P6hV8pGR"],"props":{"columns":2}},"J3cBkwzx":{"id":"J3cBkwzx","name":"account","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Account","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"accountName","defaultValue":{"value":"getExpense.account","type":"variable"}}},"P6hV8pGR":{"id":"P6hV8pGR","name":"category","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Category","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"name","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"categories","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"defaultValue":{"value":"getExpense.categories","type":"variable"}}},"TWhMDGHJ":{"id":"TWhMDGHJ","name":"description","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"getExpense.description","type":"variable"}}},"lRAV46km":{"id":"lRAV46km","name":"currentBill","type":"ELEMENT_INPUT","component":"ReactComponent","children":[],"props":{"value":"const {Image, Container, Text} = MantineCore;\n\nfunction CurrentBill() {\n  const {ctx} = useFlowViewer();\n\n  const {origin} = location\n  const {oldBillUrl} = ctx\n  let link = oldBillUrl\n   if (link.startsWith(\"https://\") && origin.startsWith(\"http://\")) {\n        link= link.replace('https','http')\n    }\n\n  return <Container w='100%' px={0}>\n      <Text fz='sm' fw='500'>Current Bill Image</Text>\n    <Image src={link} height='300px' fit='contain' radius='sm' />\n  </Container>\n}\n\nexport default CurrentBill;","inputType":"object","label":"current bill"}},"tIma2eA3":{"id":"tIma2eA3","name":"editReason","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Edit Reason","inputType":"string","validations":{"validate":""},"propsRequired":["label"],"description":""}}}}},{"name":"getExpense","displayName":"get expense","description":"","isSystemDefault":false,"type":"read","expectedInput":["expenseId"],"expectedOutput":["getExpense"],"nodeAttributes":{"position":{"x":288,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}},{"fieldName":"status","sign":"notEquals","value":{"type":"value","value":"approved"}},{"fieldName":"status","sign":"notEquals","value":{"type":"value","value":"rejected"}}],"getOptions":"one","take":null}}},{"name":"isNewBillIncluded","displayName":"is new bill included","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["checkIsNewBillIncluded","editExpense","$True","$False"],"expectedOutput":["checkIsNewBillIncluded"],"nodeAttributes":{"description":"","position":{"x":792,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"checkIsNewBillIncluded","sign":"assign","value":{"type":"script","value":"{\\$editExpense}.bill ? {\\$$True} : {\\$$False}"}}]}},{"name":"isNewBillUploaded","displayName":"is new bill uploaded","description":"","isSystemDefault":false,"type":"decision","expectedInput":["checkIsNewBillIncluded","$True"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":936,"y":144}},"maxConnections":2,"hasFaultConnection":false,"attributes":{"order":["includedNewBill"],"outcomes":{"includedNewBill":{"name":"includedNewBill","displayName":"included new bill","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"checkIsNewBillIncluded","type":"variable"},"sign":"===","value":{"value":"$True","type":"variable"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"updateExpense","displayName":"update expense","description":"","isSystemDefault":false,"type":"update","expectedInput":["editExpense","expenseId"],"expectedOutput":["updateExpense"],"nodeAttributes":{"position":{"x":672,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenses","payload":{"editReason":{"value":"editExpense.editReason","type":"variable"},"name":{"value":"editExpense.name","type":"variable"},"total":{"value":"editExpense.amount","type":"variable"},"description":{"value":"editExpense.description","type":"variable"},"status":{"value":"editExpense.status","type":"variable"},"categories":{"value":"editExpense.category","type":"variable"},"account":{"value":"editExpense.account","type":"variable"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"expenseId","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignOldBillUrl","trgItemName":"editExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillIncluded","trgItemName":"isNewBillUploaded"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillUploaded","trgItemName":"autoProcess"},{"srcOutcomeName":"includedNewBill","isFault":false,"nodeAttributes":{},"srcItemName":"isNewBillUploaded","trgItemName":"addNewBill"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"addNewBill","trgItemName":"autoProcess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"autoProcess","trgItemName":"assignOutput"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateExpense","trgItemName":"isNewBillIncluded"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateExpense","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"assignOldBillUrl"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"getExpense","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editExpense","trgItemName":"updateExpense"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getExpense"}],"variables":[{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"expenseId","displayName":"Expense ID","description":null,"isSystemDefault":false,"type":"string","isForInput":true,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"oldBillUrl","displayName":"old bill url","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"checkIsNewBillIncluded","displayName":"check is new bill included","description":null,"isSystemDefault":false,"type":"boolean","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}}]}}}
{"entityType":"flowDetail","data":{"type":"screen","name":"changeAppSettings","isSystemDefault":false,"template":{"version":"v3","displayName":"Change App Settings","description":"edit","status":"active","attributes":{},"triggerType":"private","runAsContext":"system","notes":[{"nodeAttributes":{"position":{"x":575.005,"y":497.271},"pinned":false},"content":"no settings => create screen"}],"profiles":[],"items":[{"name":"createManagerEmail","displayName":"create manager email","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings","email"],"expectedOutput":["createManagerEmail"],"nodeAttributes":{"position":{"x":840,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.emailSettingName"},"value":{"type":"variable","value":"email"},"description":{"type":"variable","value":"newSettings.managerDescription"}}}}},{"name":"checkIfSettingsExist","displayName":"check if settings exist","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["check","getAllConfig","approvalName"],"expectedOutput":["check"],"nodeAttributes":{"description":"","position":{"x":384,"y":360}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"check","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getAllConfig}.some(e=>e.name===`{\\$approvalName}`)\n}) ()"}}]}},{"name":"createEmailSubject","displayName":"create email subject","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings"],"expectedOutput":["createEmailSubject"],"nodeAttributes":{"description":"","position":{"x":1008,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.subjectSettingName"},"value":{"type":"variable","value":"newSettings.value"},"description":{"type":"variable","value":"newSettings.subjectDescription"}}}}},{"name":"createThreshold","displayName":"create threshold","description":"","isSystemDefault":false,"type":"create","expectedInput":["newSettings","thresholdToString"],"expectedOutput":["createThreshold"],"nodeAttributes":{"description":"","position":{"x":672,"y":720}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"media":{"update":[]},"sharing":{"shareToUsers":{"update":[]}},"config":{"objectName":"expenseSettings","payload":{"name":{"type":"variable","value":"newSettings.thresholdSettingName"},"value":{"type":"variable","value":"thresholdToString"},"description":{"type":"variable","value":"newSettings.thresholdDescription"}}}}},{"name":"convertThreshold","displayName":"convert threshold and get email","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["thresholdToString","newSettings","email","getUsers"],"expectedOutput":["thresholdToString","email"],"nodeAttributes":{"description":"","position":{"x":672,"y":600}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"thresholdToString","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$newSettings}.amount.toString()\n}) ()"}},{"variable":"email","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=>i.guid==={\\$newSettings}.email)?.email\n}) ()"}}]}},{"name":"createSuccess","displayName":"create success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1152,"y":720}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return `Your application settings have been saved successfully`\n}) ()"}}]}},{"name":"getFault","displayName":"get fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","createThreshold","createManagerEmail","createEmailSubject"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":768,"y":1008}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$createThreshold} || {\\$createManagerEmail} || {\\$createEmailSubject}\n}) ()"}}]}},{"name":"getUsers","displayName":"get users","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getUsers"],"nodeAttributes":{"description":"","position":{"x":264,"y":288}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"user","getFieldNames":null,"getOptions":"all","take":100,"conditions":[{"fieldName":"email","sign":"isNotNull"}],"conditionLogic":"and","sortOrder":"ASC"}}},{"name":"editAppValue","displayName":"Editing App Settings","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["editAppValue"],"nodeAttributes":{"description":"","position":{"x":696,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":true,"showFooter":true,"showWarningOnTermination":false,"displayName":"Editing App Settings","description":"","label":"Editing App Settings","name":"editAppValue"},"children":["cxLCLhci"],"name":"editAppValue"},"cxLCLhci":{"id":"cxLCLhci","name":"bySk8n","type":"ELEMENT_COMPONENT","component":"Tabs","children":["QuooB50Gca8K5ifYUyRRG","ftnDcyJ29YwHdwPhbd2za","-9WPo3PZ1G54KtyRWTcKn"],"props":{"variant":"default","orientation":"horizontal"}},"QuooB50Gca8K5ifYUyRRG":{"id":"QuooB50Gca8K5ifYUyRRG","name":"276BWN","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["438UkHWS","e4HLO5vz"],"props":{"flexDirection":"column","title":"Auto approval threshold","icon":"Coins","gap":"xs"}},"ftnDcyJ29YwHdwPhbd2za":{"id":"ftnDcyJ29YwHdwPhbd2za","name":"OE6HQ5","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["kouUznxL","LEr0kJ2o"],"props":{"flexDirection":"column","title":"Manager email","icon":"UserCog","gap":"xs"}},"-9WPo3PZ1G54KtyRWTcKn":{"id":"-9WPo3PZ1G54KtyRWTcKn","name":"wJ7VBO","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["QJK0JmYa","EyDEKy8S"],"props":{"flexDirection":"column","title":"Email subject","icon":"MailCog","gap":"xs"}},"8lA3Cvoq":{"id":"8lA3Cvoq","name":"thresholdSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Threshold Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"autoAprrovedName","type":"variable"}}},"e4HLO5vz":{"id":"e4HLO5vz","name":"thresholdDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"autoApprovalTheshold.description","type":"variable"}}},"REFEIeGn":{"id":"REFEIeGn","name":"emailSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Email Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"managerEmailName","type":"variable"}}},"LEr0kJ2o":{"id":"LEr0kJ2o","name":"managerDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"managerEmail.description","type":"variable"}}},"tN8HWrST":{"id":"tN8HWrST","name":"subjectSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Subject Setting Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"emailSubjectName","type":"variable"},"disabled":true}},"QJK0JmYa":{"id":"QJK0JmYa","name":"zNZq0qaMuRxGTRSegiSjZ","type":"ELEMENT_COMPONENT","component":"Grid","children":["tN8HWrST","y59q83cm"],"props":{"columns":2}},"y59q83cm":{"id":"y59q83cm","name":"value","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Value","inputType":"string","type":"text","propsRequired":["label"],"required":true,"defaultValue":{"value":"emailSubject.value","type":"variable"}}},"EyDEKy8S":{"id":"EyDEKy8S","name":"subjectDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"],"defaultValue":{"value":"emailSubject.description","type":"variable"}}},"kouUznxL":{"id":"kouUznxL","name":"CoSMMONHXZNVaFyiOleVv","type":"ELEMENT_COMPONENT","component":"Grid","children":["REFEIeGn","Yn2c30HJ"],"props":{"columns":2}},"438UkHWS":{"id":"438UkHWS","name":"rXvHq0ymNu-8XAtNGfcqj","type":"ELEMENT_COMPONENT","component":"Grid","children":["8lA3Cvoq","IijgzI8s"],"props":{"columns":2}},"Yn2c30HJ":{"id":"Yn2c30HJ","name":"email","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Email","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"email","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"user","defaultValue":{"value":"currentManager","type":"variable"},"required":true,"filters":[[{"fieldName":"email","operator":"isNotNull","value":""}]]}},"IijgzI8s":{"id":"IijgzI8s","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true,"defaultValue":{"value":"autoApprovalTheshold.value","type":"variable"}}}}}},{"name":"getCurrentEmail","displayName":"get current email","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["currentManager","getUsers","managerEmail"],"expectedOutput":["currentManager"],"nodeAttributes":{"description":"","position":{"x":576,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"currentManager","sign":"assign","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=> i.email === {\\$managerEmail}.value)?.guid\n}) ()"}}]}},{"name":"assignConfigs","displayName":"assign configs","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["autoApprovalTheshold","getAllConfig","approvalName","managerEmail","managerEmailName","emailSubject","emailSubjectName"],"expectedOutput":["autoApprovalTheshold","managerEmail","emailSubject"],"nodeAttributes":{"description":"","position":{"x":456,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"autoApprovalTheshold","sign":"assign","value":{"type":"script","value":"(()=>{\nconst record = {\\$getAllConfig}.filter(config=>config.name===`{\\$approvalName}`)[0];\nreturn {...record,value:Number(record.value)}\n})()"}},{"variable":"managerEmail","value":{"type":"script","value":"(()=>{\n  return {\\$getAllConfig}.filter(config=>config.name===`{\\$managerEmailName}`)[0]\n})()"},"sign":"assign"},{"variable":"emailSubject","value":{"type":"script","value":"(()=>{\n  return {\\$getAllConfig}.filter(config=>config.name===`{\\$emailSubjectName}`)[0]\n})()"},"sign":"assign"}]}},{"name":"newThresholdToString","displayName":"new threshold to string","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["thresholdToString","editAppValue","email","getUsers"],"expectedOutput":["thresholdToString","email"],"nodeAttributes":{"description":"","position":{"x":840,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"thresholdToString","sign":"assign","value":{"type":"script","value":"(()=>{\n  return {\\$editAppValue}.amount.toString();\n})()"}},{"variable":"email","value":{"type":"script","value":"(() => {\n  return {\\$getUsers}.find(i=>i.guid==={\\$editAppValue}.email)?.email\n}) ()"},"sign":"assign"}]}},{"name":"check","displayName":"check","description":"","isSystemDefault":false,"type":"decision","expectedInput":["check","$True"],"expectedOutput":[],"nodeAttributes":{"description":"","position":{"x":504,"y":360}},"maxConnections":2,"hasFaultConnection":false,"attributes":{"order":["settingsExisted"],"outcomes":{"settingsExisted":{"name":"settingsExisted","displayName":"settings existed","conditionLogic":"and","conditions":[{"conditionNumber":1,"field":{"value":"check","type":"variable"},"sign":"===","value":{"value":"$True","type":"variable"}}]}},"defaultOutcomeLabel":"Default Outcome"}},{"name":"assignSuccess","displayName":"assign success","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output"],"expectedOutput":["output"],"nodeAttributes":{"position":{"x":1440,"y":144}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"(() => {\n  return `Your application settings have been updated successfully`\n}) ()"}}]}},{"name":"assignFault","displayName":"assign fault","description":"","isSystemDefault":false,"type":"assignment","expectedInput":["output","updateThreshold","updateManagerEmail","updateEmailSubject"],"expectedOutput":["output"],"nodeAttributes":{"description":"","position":{"x":1056,"y":384}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"assignmentVariables":[{"variable":"output","sign":"assign","value":{"type":"script","value":"{\\$updateThreshold} || {\\$updateManagerEmail} || {\\$updateEmailSubject}"}}]}},{"name":"updateManagerEmail","displayName":"update manager email","description":"","isSystemDefault":false,"type":"update","expectedInput":["email","editAppValue","managerEmail"],"expectedOutput":["updateManagerEmail"],"nodeAttributes":{"position":{"x":1128,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"email","type":"variable"},"description":{"type":"variable","value":"editAppValue.managerDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"managerEmail.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateEmailSubject","displayName":"update email subject","description":"","isSystemDefault":false,"type":"update","expectedInput":["editAppValue","emailSubject"],"expectedOutput":["updateEmailSubject"],"nodeAttributes":{"position":{"x":1272,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"editAppValue.value","type":"variable"},"description":{"type":"variable","value":"editAppValue.subjectDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"emailSubject.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"updateThreshold","displayName":"update threshold","description":"","isSystemDefault":false,"type":"update","expectedInput":["thresholdToString","editAppValue","autoApprovalTheshold"],"expectedOutput":["updateThreshold"],"nodeAttributes":{"description":"","position":{"x":960,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","payload":{"value":{"value":"thresholdToString","type":"variable"},"description":{"type":"variable","value":"editAppValue.thresholdDescription"}},"conditionLogic":"and","conditions":[{"fieldName":"guid","sign":"equals","value":{"value":"autoApprovalTheshold.guid","type":"variable"}}]},"media":{"update":[],"remove":[]},"sharing":{"shareToUsers":{"update":[],"remove":[]}}}},{"name":"getAllConfig","displayName":"get all config","description":"","isSystemDefault":false,"type":"read","expectedInput":[],"expectedOutput":["getAllConfig"],"nodeAttributes":{"description":"","position":{"x":264,"y":144}},"maxConnections":1,"hasFaultConnection":true,"attributes":{"config":{"objectName":"expenseSettings","conditionLogic":"and","conditions":[],"getOptions":"all","take":null}}},{"name":"newSettings","displayName":"Create App Settings","description":"","isSystemDefault":false,"type":"screen","expectedInput":["$CtxInfo"],"expectedOutput":["newSettings"],"nodeAttributes":{"description":"","position":{"x":528,"y":600}},"maxConnections":1,"hasFaultConnection":false,"attributes":{"layoutScript":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","type":"ELEMENT_COMPONENT","component":"AutoLayout","props":{"size":"large","showHeader":true,"showFooter":true,"showWarningOnTermination":false,"name":"newSettings","displayName":"Create App Settings","description":"","label":"Create App Settings"},"children":["cxLCLhci"],"name":"newSettings"},"cxLCLhci":{"id":"cxLCLhci","name":"bySk8n","type":"ELEMENT_COMPONENT","component":"Tabs","children":["QuooB50Gca8K5ifYUyRRG","ftnDcyJ29YwHdwPhbd2za","-9WPo3PZ1G54KtyRWTcKn"],"props":{"variant":"default","orientation":"horizontal"}},"QuooB50Gca8K5ifYUyRRG":{"id":"QuooB50Gca8K5ifYUyRRG","name":"276BWN","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["438UkHWS","e4HLO5vz"],"props":{"flexDirection":"column","title":"Auto approval threshold","icon":"Coins","gap":"xs"}},"ftnDcyJ29YwHdwPhbd2za":{"id":"ftnDcyJ29YwHdwPhbd2za","name":"OE6HQ5","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["kouUznxL","LEr0kJ2o"],"props":{"flexDirection":"column","title":"Manager email","icon":"UserCog","gap":"xs"}},"-9WPo3PZ1G54KtyRWTcKn":{"id":"-9WPo3PZ1G54KtyRWTcKn","name":"wJ7VBO","type":"ELEMENT_COMPONENT","component":"AutoLayout","children":["QJK0JmYa","EyDEKy8S"],"props":{"flexDirection":"column","title":"Email subject","icon":"MailCog","gap":"xs"}},"8lA3Cvoq":{"id":"8lA3Cvoq","name":"thresholdSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Threshold Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"approvalName","type":"variable"}}},"e4HLO5vz":{"id":"e4HLO5vz","name":"thresholdDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"REFEIeGn":{"id":"REFEIeGn","name":"emailSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Email Setting Name","inputType":"string","type":"text","propsRequired":["label"],"disabled":true,"defaultValue":{"value":"managerEmailName","type":"variable"}}},"LEr0kJ2o":{"id":"LEr0kJ2o","name":"managerDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"tN8HWrST":{"id":"tN8HWrST","name":"subjectSettingName","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Subject Setting Name","inputType":"string","type":"text","propsRequired":["label"],"defaultValue":{"value":"emailSubjectName","type":"variable"},"disabled":true}},"QJK0JmYa":{"id":"QJK0JmYa","name":"zNZq0qaMuRxGTRSegiSjZ","type":"ELEMENT_COMPONENT","component":"Grid","children":["tN8HWrST","y59q83cm"],"props":{"columns":2}},"y59q83cm":{"id":"y59q83cm","name":"value","type":"ELEMENT_INPUT","component":"TextInput","children":[],"props":{"label":"Value","inputType":"string","type":"text","propsRequired":["label"],"required":true,"placeholder":""}},"EyDEKy8S":{"id":"EyDEKy8S","name":"subjectDescription","type":"ELEMENT_INPUT","component":"Textarea","children":[],"props":{"label":"Description","inputType":"string","propsRequired":["label"]}},"kouUznxL":{"id":"kouUznxL","name":"CoSMMONHXZNVaFyiOleVv","type":"ELEMENT_COMPONENT","component":"Grid","children":["REFEIeGn","Yn2c30HJ"],"props":{"columns":2}},"438UkHWS":{"id":"438UkHWS","name":"rXvHq0ymNu-8XAtNGfcqj","type":"ELEMENT_COMPONENT","component":"Grid","children":["8lA3Cvoq","IijgzI8s"],"props":{"columns":2}},"Yn2c30HJ":{"id":"Yn2c30HJ","name":"email","type":"ELEMENT_INPUT","component":"DataSelect","children":[],"props":{"label":"Email","inputType":"string","clearable":true,"itemLabelType":"schema","itemLabelKey":"email","itemLabelScript":"","propsRequired":["label","objectName"],"objectName":"user","filters":[[{"fieldName":"email","operator":"isNotNull","value":""}]],"required":true}},"IijgzI8s":{"id":"IijgzI8s","name":"amount","type":"ELEMENT_INPUT","component":"CurrencyInput","children":[],"props":{"label":"Amount","inputType":"integer","propsRequired":["label"],"required":true}}}}}],"connections":[{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"trgItemName":"getAllConfig"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newThresholdToString","trgItemName":"updateThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateManagerEmail","trgItemName":"updateEmailSubject"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateManagerEmail","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateEmailSubject","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"updateThreshold","trgItemName":"assignFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateEmailSubject","trgItemName":"assignSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"updateThreshold","trgItemName":"updateManagerEmail"},{"srcOutcomeName":"settingsExisted","isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"assignConfigs"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"checkIfSettingsExist","trgItemName":"check"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"check","trgItemName":"newSettings"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"newSettings","trgItemName":"convertThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createManagerEmail","trgItemName":"createEmailSubject"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createThreshold","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createManagerEmail","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":true,"nodeAttributes":{},"srcItemName":"createEmailSubject","trgItemName":"getFault"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createEmailSubject","trgItemName":"createSuccess"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"editAppValue","trgItemName":"newThresholdToString"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getAllConfig","trgItemName":"getUsers"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getUsers","trgItemName":"checkIfSettingsExist"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"assignConfigs","trgItemName":"getCurrentEmail"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"getCurrentEmail","trgItemName":"editAppValue"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"convertThreshold","trgItemName":"createThreshold"},{"srcOutcomeName":null,"isFault":false,"nodeAttributes":{},"srcItemName":"createThreshold","trgItemName":"createManagerEmail"}],"variables":[{"name":"thresholdToString","displayName":"threshold to string","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"output","displayName":"output","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":true,"attributes":{"defaultValue":""}},{"name":"autoApprovalTheshold","displayName":"auto approval theshold","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"managerEmail","displayName":"manager email","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"emailSubject","displayName":"email subject","description":null,"isSystemDefault":false,"type":"record","isForInput":false,"isForOutput":false,"attributes":{"recordObjectName":"expenseSettings"}},{"name":"email","displayName":"email","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":""}},{"name":"check","displayName":"check","description":null,"isSystemDefault":false,"type":"boolean","isForInput":false,"isForOutput":false,"attributes":{}},{"name":"managerEmailName","displayName":"manager email name","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"MANAGER_EMAIL"}},{"name":"emailSubjectName","displayName":"email subject name","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"EMAIL_SUBJECT"}},{"name":"currentManager","displayName":"currentManager","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{}},{"name":"approvalName","displayName":"approvalName","description":null,"isSystemDefault":false,"type":"string","isForInput":false,"isForOutput":false,"attributes":{"defaultValue":"AUTO_APPROVAL_THRESHOLD"}}]}}}
{"entityType":"layouts","data":{"name":"default_systemImportBatch","displayName":"System Batch (systemImportBatch)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["36673e3d-0590-45df-95f9-4aa86998baba"]},"36673e3d-0590-45df-95f9-4aa86998baba":{"id":"36673e3d-0590-45df-95f9-4aa86998baba","label":"System Batch","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"systemImportBatch","isPrimary":true,"numOfCols":2,"fields":["guid","currencyCode","createdAt","updatedAt","createdBy","managedBy","ctx","fileId","name","result","status","userRef"],"actions":[]},"children":[]}},"objectName":"systemImportBatch"}}
{"entityType":"layouts","data":{"name":"default_validation_operator","displayName":"Validation Operator (validation_operator)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["d5138059-63a5-4971-bce3-2a48a2bf04b1"]},"d5138059-63a5-4971-bce3-2a48a2bf04b1":{"id":"d5138059-63a5-4971-bce3-2a48a2bf04b1","label":"Validation Operator","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"validation_operator","isPrimary":true,"numOfCols":2,"fields":["guid","currencyCode","createdAt","updatedAt","createdBy","managedBy","display_name","is_active","name","placeholder","util"],"actions":[]},"children":[]}},"objectName":"validation_operator"}}
{"entityType":"layouts","data":{"name":"default_categories","displayName":"Categories (categories)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["750a382a-120d-41fe-9abe-89da8b80dee8","JqKKtYQyBdE3ot92si4Wp"]},"750a382a-120d-41fe-9abe-89da8b80dee8":{"id":"750a382a-120d-41fe-9abe-89da8b80dee8","label":"Categories","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"categories","isPrimary":true,"numOfCols":2,"fields":["name","categoryStatus","expenseLimit","description","parentCategory"],"actions":[],"customCss":"","extended":{},"title":"{{curRecord.name}} category  details"},"children":["dKy55VOzLcSQlp41ZNF5I","b-5B5SgMMexizZ8C11AKr"],"schema":{"id":2322,"name":"categories","displayName":"Categories","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"setNull","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"parentCategory","displayName":"Parent Category","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":false},{"subType":"single","defaultValue":"active","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"categoryStatus","displayName":"Category Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"categoryStatus","pickListId":1536},{"isSearchable":false,"isSortable":false,"name":"expenseLimit","displayName":"Expense Limit","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Categories","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"categoryStatus":[{"id":"pli_tIhlouevIsbZNDqx3IYGgaH","name":"active","displayName":"Active","isDeprecated":false,"parentName":null,"attributes":{"color":"green","order":1},"index":7181},{"id":"pli_rPZFVIfimKTpf-y4-ix9JH2","name":"deprecated","displayName":"Deprecated","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":3},"index":7183},{"id":"pli__soMU6-m9cvBH--a3QdwwTz","name":"suspended","displayName":"Suspended","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":2},"index":7182}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"dKy55VOzLcSQlp41ZNF5I":{"id":"dKy55VOzLcSQlp41ZNF5I","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_editCategory","title":"Edit this category","variant":"light","size":"sm","flowName":"editCategory","script":"","inputMap":{"categoryId":"{{curRecord.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","objName":"categories","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}= curUser;\n  if(roleName !== \"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"_ojbExt":""},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"b-5B5SgMMexizZ8C11AKr":{"id":"b-5B5SgMMexizZ8C11AKr","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Remove from category list","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"categories","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}= curUser;\n  if(roleName !== \"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n","buttonColor":"red"},"_ojbExt":""},"JqKKtYQyBdE3ot92si4Wp":{"id":"JqKKtYQyBdE3ot92si4Wp","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Expenses with this category","description":"","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","account","status","total","description","editReason","rejectReason","updatedAt"],"filters":[[{"fieldName":"categories","operator":"===","value":"{{curRecord.guid}}","variable":true}]],"rowActions":[],"displayMode":"table","columnWidths":{"name":225.10415649414062,"status":149.69696044921875,"total":133.00189208984375,"description":255.99429321289062,"rejectReason":223.8068084716797,"editReason":251.9980926513672,"account":130.70074462890625,"updatedAt":161.78976440429688},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"},"sort":{"sortBy":"updatedAt","sortOrder":"DESC"}},"_ojbExt":""}},"objectName":"categories"}}
{"entityType":"layouts","data":{"name":"default_accountName","displayName":"Account (accountName)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["032169f6-04e7-4d0a-b465-64c61a311486","aBvdaJv_mTTUQyUHzvXD7"]},"032169f6-04e7-4d0a-b465-64c61a311486":{"id":"032169f6-04e7-4d0a-b465-64c61a311486","label":"Account","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"accountName","isPrimary":true,"numOfCols":2,"fields":["name","cashBalance","description"],"actions":[],"customCss":"","extended":{},"title":"{{curRecord.name}} details"},"children":["07slolkiFptuv_lnud9hY"],"schema":{"id":2473,"name":"accountName","displayName":"Account","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"cashBalance","displayName":"Cash Balance","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Account Name","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"07slolkiFptuv_lnud9hY":{"id":"07slolkiFptuv_lnud9hY","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deposit","title":"Make a deposit","variant":"filled","size":"sm","flowName":"deposit","script":"","inputMap":{"accountId":"{{curRecord.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"ArrowBarToDown","customCss":"","objName":"accountName","type":"flow","action":"","buttonColor":null},"_ojbExt":""},"_Zry02suL_RhBv5w6q4Co":{"id":"_Zry02suL_RhBv5w6q4Co","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Deposit history","description":"","objName":"deposit","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","amount","oldBudget","description","createdAt"],"filters":[[{"fieldName":"account","operator":"===","value":"{{curRecord.guid}}","variable":true}]],"rowActions":[],"displayMode":"table","columnWidths":{"name":164.10037231445312,"amount":145.70074462890625,"description":213.99620056152344,"oldBudget":199.99998474121094,"createdAt":231.00376892089844},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2341,"name":"deposit","displayName":"Deposit","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"cascade","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"isSearchable":false,"isSortable":false,"name":"oldBudget","displayName":"Old Budget","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"amount","displayName":"Amount","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Deposit","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"aBvdaJv_mTTUQyUHzvXD7":{"id":"aBvdaJv_mTTUQyUHzvXD7","children":["_Zry02suL_RhBv5w6q4Co","tCnQEMEBABivtHEi6fLLV"],"isNew":true,"label":"Simple Grid","type":"ELEMENT_LAYOUT","component":"SimpleGrid","props":{"customCss":"","columns":2},"_ojbExt":""},"tCnQEMEBABivtHEi6fLLV":{"id":"tCnQEMEBABivtHEi6fLLV","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Expense history","description":"","objName":"expenses","allowSearch":false,"allowEditFilters":false,"allowExport":false,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","categories","status","total","description","editReason"],"filters":[],"rowActions":[],"displayMode":"table","columnWidths":{"total":148.5605926513672,"categories":155.6912841796875,"status":133.00189208984375,"name":225.89013671875,"description":268.570068359375,"editReason":295.2461853027344},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""}},"objectName":"accountName"}}
{"entityType":"layouts","data":{"name":"default_expenses","displayName":"Expenses (expenses)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["SiXi7AnuZvIzp1XJy6Jd1"]},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"SiXi7AnuZvIzp1XJy6Jd1":{"id":"SiXi7AnuZvIzp1XJy6Jd1","children":["KlV51Z0L4UJG5xLzC9ao1","VX4T3DAc1RDwdM91TcZIP","vvXEeaCQkoeha5f019eYN"],"label":"Rec. Details","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"isPrimary":true,"title":"{{curRecord.name}}","description":"{{curRecord.name}} Details","fields":["name","status","account","total","categories","description","rejectReason","bill","editReason"],"actions":[],"numOfCols":2,"extended":{},"hideBackBtn":false,"showFileDropzones":true,"inputMap":{},"fileNames":["file0"],"allowComments":true,"customCss":""},"_ojbExt":""},"VX4T3DAc1RDwdM91TcZIP":{"id":"VX4T3DAc1RDwdM91TcZIP","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deleteAccount","title":"Edit","variant":"light","size":"sm","flowName":"deleteAccount","script":"","inputMap":{"expenseId":"{{curRecord.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","action":"","displayName":"edit","type":"flow","objName":"expenses","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const status = curRecord.status;\n if(status===\"Submitted\" && curUser.roleName===\"Root\"){\n   return true\n }\n  // if status is approved OR rejected OR submitted => not show\n  if(status!== \"Draft\"){\n    return false;\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""},"KlV51Z0L4UJG5xLzC9ao1":{"id":"KlV51Z0L4UJG5xLzC9ao1","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_rejectExpense","title":"Process this expense","variant":"light","size":"sm","flowName":"rejectExpense","script":"","inputMap":{"expenseId":"{{curRecord.guid}}","expenseAmount":"{{curRecord.total}}","categoryName":"{{curRecord.$metadata.origin.categories}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Loader","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  const {status}=curRecord;\n  \n  if(roleName===\"Reporter\" || status !== \"Submitted\"){\n    return false;\n  }\n  \n    return true;\n  \n}\n","objName":"expenses","type":"flow","action":"","buttonColor":null},"_ojbExt":""},"vvXEeaCQkoeha5f019eYN":{"id":"vvXEeaCQkoeha5f019eYN","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  const {status} = curRecord;\n  \n  // if user is reporter AND status is draft => show btn\n  if(roleName===\"Reporter\" && status === \"Draft\"){\n    return true;\n  }\n\n  if(roleName===\"Root\" && status ===\"Submitted\"){\n    return true\n  }\n  \n  if(status !== \"Draft\"){\n    return false;\n  }\n  \n  return true\n}\n","objName":"expenses","type":"object","action":"delete"},"_ojbExt":""}},"objectName":"expenses"}}
{"entityType":"layouts","data":{"name":"default_deposit","displayName":"Deposit (deposit)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["80bb6649-a959-448d-85c2-6d3c4d41460a"]},"80bb6649-a959-448d-85c2-6d3c4d41460a":{"id":"80bb6649-a959-448d-85c2-6d3c4d41460a","label":"Deposit","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"deposit","isPrimary":true,"numOfCols":2,"fields":["name","account","amount","oldBudget","createdAt","description"],"actions":[],"customCss":"","extended":{},"description":"{{curRecord.name}}"},"children":["qjCJGJ9Llp9OvlW1jwiYO"]},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"qjCJGJ9Llp9OvlW1jwiYO":{"id":"qjCJGJ9Llp9OvlW1jwiYO","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deposit","title":"New deposit into this account","variant":"light","size":"sm","flowName":"deposit","script":"","inputMap":{"accountId":"{{curRecord.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"ArrowBarToDown","customCss":"","objName":"deposit","type":"flow","action":""},"_ojbExt":""}},"objectName":"deposit"}}
{"entityType":"layouts","data":{"name":"expenseManagement","displayName":"Expense Management","description":"","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["xTkY1XX8kPLaoia0UqeTZ"]},"xTkY1XX8kPLaoia0UqeTZ":{"id":"xTkY1XX8kPLaoia0UqeTZ","children":["Kopx_dmnoBA8CHO4kB-qA"],"label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"customCss":""},"_ojbExt":""},"__kLMAhvjjMCyUEUjxCdJ":{"id":"__kLMAhvjjMCyUEUjxCdJ","children":["OrfdW46OFeWN9vNAR3RqA"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Submitted Expenses","description":"Submitted Expenses waiting to be processed","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":true,"allowSort":true,"allowInlineEdit":false,"fields":["name","total","categories","status","type","description","createdBy","managedBy","createdAt","rejectReason"],"filters":[[{"fieldName":"status","operator":"===","value":"submitted"}]],"rowActions":["g8vjtZjFqHlA18ngQSvuZ","y64lCWnrYCTjDLRxPGXFV"],"displayMode":"table","columnWidths":{"name":153.37890625,"description":148.22265625,"expenseDate":165,"status":119.00390625,"total":141.97265625,"guid":272.5,"type":128.3984375,"managedBy":182.44140625,"createdBy":191.484375,"updatedAt":158.5390625,"createdAt":146.4375,"currencyCode":88.2421875},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"sort":null,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2321,"name":"expenses","displayName":"Expenses","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"rejectReason","displayName":"Reject Reason","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"categories","displayName":"Categories","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":true},{"isSearchable":false,"isSortable":false,"fileSizeLimit":1048576,"fileTypes":["image/jpeg","image/png","image/gif"],"name":"bill","displayName":"Bill","isSystemDefault":false,"typeName":"file","isRequired":false},{"subType":"single","defaultValue":"pending","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"status","displayName":"Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"expenseStatus","pickListId":1535},{"subType":"long","defaultValue":"","isUnique":false,"isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"total","displayName":"Total","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Expenses","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"status":[{"id":"pli_vhOV1xwBuxshPLeQl1IbmlF","name":"approved","displayName":"Approved","isDeprecated":false,"parentName":null,"attributes":{"color":"lime","order":4},"index":7177},{"id":"pli_TMx1mA_MFONPjSuHemhWzcD","name":"draft","displayName":"Draft","isDeprecated":false,"parentName":null,"attributes":{"color":"gray","order":2},"index":7204},{"id":"pli_mm_ccpcLvkr4xXOXkQWm6ue","name":"pending","displayName":"Pending","isDeprecated":true,"parentName":null,"attributes":{"color":"gray","order":1},"index":7175},{"id":"pli_jvZsazr3f9CJ8qyibaVuDUs","name":"rejected","displayName":"Rejected","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":5},"index":7178},{"id":"pli_371Nl9Vnnfy_Y_17Fm_bcAG","name":"submitted","displayName":"Submitted","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":3},"index":7176}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"g8vjtZjFqHlA18ngQSvuZ":{"id":"g8vjtZjFqHlA18ngQSvuZ","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_edit","title":"Edit","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","objName":"expenses","type":"object","action":"edit"},"children":[],"_ojbExt":""},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[{"id":"input_1","type":"variable"}]},"y64lCWnrYCTjDLRxPGXFV":{"id":"y64lCWnrYCTjDLRxPGXFV","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"filled","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""},"LI4cZ8OQ-eDl6gZNT5k-X":{"id":"LI4cZ8OQ-eDl6gZNT5k-X","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_test","title":"Create new expense","variant":"filled","size":"sm","flowName":"test","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"PlaylistAdd","customCss":"","type":"flow","action":""},"_ojbExt":""},"v3pvDdhNowRbJmHQ4QYVk":{"id":"v3pvDdhNowRbJmHQ4QYVk","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_edit","title":"Edit","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"PencilCog","customCss":"","objName":"categories","type":"object","action":"edit"},"children":[],"_ojbExt":""},"6N90XdwB5qRsc5oW3plvg":{"id":"6N90XdwB5qRsc5oW3plvg","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"filled","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"categories","type":"object","action":"delete"},"children":[],"_ojbExt":""},"Kopx_dmnoBA8CHO4kB-qA":{"id":"Kopx_dmnoBA8CHO4kB-qA","children":["ylNA3NndDOVhZOT4_i5R2","__kLMAhvjjMCyUEUjxCdJ","F_q248QmneUPHDF1P-MsL","9jrAHJUn82CdOl2VfyUCC"],"label":"Tab","type":"ELEMENT_LAYOUT","component":"Tabs","props":{"type":"filled","showUnderlineBg":false,"customCss":""},"_ojbExt":""},"ylNA3NndDOVhZOT4_i5R2":{"id":"ylNA3NndDOVhZOT4_i5R2","label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"title":"Draft Expenses"},"children":["J9fBlKjvwnn8p2aCdm1LH"],"_ojbExt":""},"J9fBlKjvwnn8p2aCdm1LH":{"id":"J9fBlKjvwnn8p2aCdm1LH","children":["VD6gvmkGBR53ea9BDcQlf"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Draft Expenses","description":"Incomplete ","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","categories","total","description","createdAt"],"filters":[[{"fieldName":"status","operator":"===","value":"draft"}]],"rowActions":["zBKbQRVhTbbEKn03hedM3","AruJwRsccphZKJH89cMts"],"displayMode":"table","columnWidths":{"name":198.37890625,"createdAt":185.37109375,"createdBy":168.0078125,"managedBy":195,"categories":176.3671875,"description":260.4296875,"total":105.390625,"bill":143.4453125},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2321,"name":"expenses","displayName":"Expenses","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"rejectReason","displayName":"Reject Reason","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"categories","displayName":"Categories","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":true},{"isSearchable":false,"isSortable":false,"fileSizeLimit":1048576,"fileTypes":["image/jpeg","image/png","image/gif"],"name":"bill","displayName":"Bill","isSystemDefault":false,"typeName":"file","isRequired":false},{"subType":"single","defaultValue":"pending","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"status","displayName":"Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"expenseStatus","pickListId":1535},{"subType":"long","defaultValue":"","isUnique":false,"isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"total","displayName":"Total","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Expenses","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"status":[{"id":"pli_vhOV1xwBuxshPLeQl1IbmlF","name":"approved","displayName":"Approved","isDeprecated":false,"parentName":null,"attributes":{"color":"lime","order":4},"index":7177},{"id":"pli_TMx1mA_MFONPjSuHemhWzcD","name":"draft","displayName":"Draft","isDeprecated":false,"parentName":null,"attributes":{"color":"gray","order":2},"index":7204},{"id":"pli_mm_ccpcLvkr4xXOXkQWm6ue","name":"pending","displayName":"Pending","isDeprecated":true,"parentName":null,"attributes":{"color":"gray","order":1},"index":7175},{"id":"pli_jvZsazr3f9CJ8qyibaVuDUs","name":"rejected","displayName":"Rejected","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":5},"index":7178},{"id":"pli_371Nl9Vnnfy_Y_17Fm_bcAG","name":"submitted","displayName":"Submitted","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":3},"index":7176}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"OrfdW46OFeWN9vNAR3RqA":{"id":"OrfdW46OFeWN9vNAR3RqA","children":["LI4cZ8OQ-eDl6gZNT5k-X"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Submitted Expenses","description":"Expenses waiting to be processed","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","account","categories","total","description","createdAt"],"filters":[[{"fieldName":"status","operator":"===","value":"submitted"}]],"rowActions":["hiGq15N7WxRIqu_QAdkpX"],"displayMode":"table","columnWidths":{"createdBy":196.03515625,"managedBy":245,"createdAt":176.42578125,"description":279.609375,"total":197.96875,"categories":166.03515625,"name":140.37109375,"account":153.37890625},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2321,"name":"expenses","displayName":"Expenses","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"rejectReason","displayName":"Reject Reason","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"categories","displayName":"Categories","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":true},{"isSearchable":false,"isSortable":false,"fileSizeLimit":1048576,"fileTypes":["image/jpeg","image/png","image/gif"],"name":"bill","displayName":"Bill","isSystemDefault":false,"typeName":"file","isRequired":false},{"subType":"single","defaultValue":"pending","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"status","displayName":"Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"expenseStatus","pickListId":1535},{"subType":"long","defaultValue":"","isUnique":false,"isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"total","displayName":"Total","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Expenses","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"status":[{"id":"pli_vhOV1xwBuxshPLeQl1IbmlF","name":"approved","displayName":"Approved","isDeprecated":false,"parentName":null,"attributes":{"color":"lime","order":4},"index":7177},{"id":"pli_TMx1mA_MFONPjSuHemhWzcD","name":"draft","displayName":"Draft","isDeprecated":false,"parentName":null,"attributes":{"color":"gray","order":2},"index":7204},{"id":"pli_mm_ccpcLvkr4xXOXkQWm6ue","name":"pending","displayName":"Pending","isDeprecated":true,"parentName":null,"attributes":{"color":"gray","order":1},"index":7175},{"id":"pli_jvZsazr3f9CJ8qyibaVuDUs","name":"rejected","displayName":"Rejected","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":5},"index":7178},{"id":"pli_371Nl9Vnnfy_Y_17Fm_bcAG","name":"submitted","displayName":"Submitted","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":3},"index":7176}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"VD6gvmkGBR53ea9BDcQlf":{"id":"VD6gvmkGBR53ea9BDcQlf","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_test","title":"Create new expense","variant":"filled","size":"sm","flowName":"test","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"PlaylistAdd","customCss":"","type":"flow","action":""},"_ojbExt":""},"zBKbQRVhTbbEKn03hedM3":{"id":"zBKbQRVhTbbEKn03hedM3","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deleteAccount","title":"Edit","variant":"light","size":"sm","flowName":"deleteAccount","script":"","inputMap":{"expenseId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"PencilCheck","customCss":"","type":"flow","action":""},"children":[],"_ojbExt":""},"AruJwRsccphZKJH89cMts":{"id":"AruJwRsccphZKJH89cMts","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete","buttonColor":"red"},"children":[],"_ojbExt":""},"j9FzY130DfEuUZ876vKNL":{"id":"j9FzY130DfEuUZ876vKNL","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role = curUser.roleName;\n  if(role !== \"Root\"){\n    return false\n  }\n  return true\n}\n","objName":"expenses","type":"object","action":"delete","buttonColor":"red"},"children":[],"_ojbExt":""},"Jx5KIZ1Hwim1LW2Lm6S-M":{"id":"Jx5KIZ1Hwim1LW2Lm6S-M","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role = curUser.roleName;\n  if(role !== \"Root\"){\n    return false;\n  }\n  return true;\n}\n"},"children":[],"_ojbExt":""},"hiGq15N7WxRIqu_QAdkpX":{"id":"hiGq15N7WxRIqu_QAdkpX","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role = curUser.roleName;\n  if(role !== \"Manager\" && role !== \"Root\"){\n    return false;\n  }\n  return true;\n}\n","buttonColor":"red"},"children":[],"_ojbExt":""},"F_q248QmneUPHDF1P-MsL":{"id":"F_q248QmneUPHDF1P-MsL","children":["KxEeaGQYMFjVROw-Pt883"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Approved Expenses","description":"","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","account","categories","total","description","updatedAt"],"filters":[[{"fieldName":"status","operator":"===","value":"approved"}]],"rowActions":[],"displayMode":"table","columnWidths":{},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2321,"name":"expenses","displayName":"Expenses","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"rejectReason","displayName":"Reject Reason","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"categories","displayName":"Categories","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":true},{"isSearchable":false,"isSortable":false,"fileSizeLimit":1048576,"fileTypes":["image/jpeg","image/png","image/gif"],"name":"bill","displayName":"Bill","isSystemDefault":false,"typeName":"file","isRequired":false},{"subType":"single","defaultValue":"pending","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"status","displayName":"Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"expenseStatus","pickListId":1535},{"subType":"long","defaultValue":"","isUnique":false,"isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"total","displayName":"Total","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Expenses","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"status":[{"id":"pli_vhOV1xwBuxshPLeQl1IbmlF","name":"approved","displayName":"Approved","isDeprecated":false,"parentName":null,"attributes":{"color":"lime","order":4},"index":7177},{"id":"pli_TMx1mA_MFONPjSuHemhWzcD","name":"draft","displayName":"Draft","isDeprecated":false,"parentName":null,"attributes":{"color":"gray","order":2},"index":7204},{"id":"pli_mm_ccpcLvkr4xXOXkQWm6ue","name":"pending","displayName":"Pending","isDeprecated":true,"parentName":null,"attributes":{"color":"gray","order":1},"index":7175},{"id":"pli_jvZsazr3f9CJ8qyibaVuDUs","name":"rejected","displayName":"Rejected","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":5},"index":7178},{"id":"pli_371Nl9Vnnfy_Y_17Fm_bcAG","name":"submitted","displayName":"Submitted","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":3},"index":7176}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"9jrAHJUn82CdOl2VfyUCC":{"id":"9jrAHJUn82CdOl2VfyUCC","label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"title":"Rejected Expenses"},"children":["seiT11EJ2PFKd3YArNQEA"],"_ojbExt":""},"seiT11EJ2PFKd3YArNQEA":{"id":"seiT11EJ2PFKd3YArNQEA","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Rejected Expenses","description":"","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","categories","total","description","rejectReason","updatedAt"],"filters":[[{"fieldName":"status","operator":"===","value":"rejected"}]],"rowActions":["plR7ySbgJpfLUyx-0UTXz"],"displayMode":"table","columnWidths":{"name":158.37890625,"categories":180.37109375,"total":135,"description":229.00390625,"rejectReason":224.00390625,"updatedAt":225},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"KxEeaGQYMFjVROw-Pt883":{"id":"KxEeaGQYMFjVROw-Pt883","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Approved Expenses","description":"","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","account","categories","total","description","updatedAt"],"filters":[[{"fieldName":"status","operator":"===","value":"approved"}]],"rowActions":["RlRJ7D3k_0d6_xFBN8drK"],"displayMode":"table","columnWidths":{"account":154.375,"name":218.37890625,"categories":180.99609375,"total":143.0078125,"description":230.99609375,"updatedAt":215},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"},"sort":{"sortBy":"updatedAt","sortOrder":"DESC"}},"_ojbExt":"","schema":{"id":2321,"name":"expenses","displayName":"Expenses","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[],"name":"account","displayName":"Account","isSystemDefault":false,"typeName":"relation","value":"accountName","targetObjId":2473,"isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"rejectReason","displayName":"Reject Reason","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"noAction","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"categories","displayName":"Categories","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":true},{"isSearchable":false,"isSortable":false,"fileSizeLimit":1048576,"fileTypes":["image/jpeg","image/png","image/gif"],"name":"bill","displayName":"Bill","isSystemDefault":false,"typeName":"file","isRequired":false},{"subType":"single","defaultValue":"pending","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"status","displayName":"Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"expenseStatus","pickListId":1535},{"subType":"long","defaultValue":"","isUnique":false,"isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"total","displayName":"Total","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Expenses","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"status":[{"id":"pli_vhOV1xwBuxshPLeQl1IbmlF","name":"approved","displayName":"Approved","isDeprecated":false,"parentName":null,"attributes":{"color":"lime","order":4},"index":7177},{"id":"pli_TMx1mA_MFONPjSuHemhWzcD","name":"draft","displayName":"Draft","isDeprecated":false,"parentName":null,"attributes":{"color":"gray","order":2},"index":7204},{"id":"pli_mm_ccpcLvkr4xXOXkQWm6ue","name":"pending","displayName":"Pending","isDeprecated":true,"parentName":null,"attributes":{"color":"gray","order":1},"index":7175},{"id":"pli_jvZsazr3f9CJ8qyibaVuDUs","name":"rejected","displayName":"Rejected","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":5},"index":7178},{"id":"pli_371Nl9Vnnfy_Y_17Fm_bcAG","name":"submitted","displayName":"Submitted","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":3},"index":7176}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"plR7ySbgJpfLUyx-0UTXz":{"id":"plR7ySbgJpfLUyx-0UTXz","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Trash","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""},"RlRJ7D3k_0d6_xFBN8drK":{"id":"RlRJ7D3k_0d6_xFBN8drK","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Trash","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""}}}}
{"entityType":"layouts","data":{"name":"categories","displayName":"Categories","description":"","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["A91AqeY0EaCyQWW3AohcW"]},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[{"id":"data_1","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"expenses"}},{"id":"data_2","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"categories"}}]},"FK2sKchmwSAVRjMQSoYdc":{"id":"FK2sKchmwSAVRjMQSoYdc","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_edit","title":"Edit","variant":"default","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"","customCss":"","objName":"categories","type":"object","action":"edit"},"children":[],"_ojbExt":""},"0EuiR8P-YJYZO3GbuNNDz":{"id":"0EuiR8P-YJYZO3GbuNNDz","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"default","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"","customCss":"","objName":"categories","type":"object","action":"delete"},"children":[],"_ojbExt":""},"A91AqeY0EaCyQWW3AohcW":{"id":"A91AqeY0EaCyQWW3AohcW","children":["-oYLWYMg8egbKBGwLuHHa"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"All categories","description":"","objName":"categories","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":true,"allowSort":true,"allowInlineEdit":false,"fields":["name","parentCategory","expenseLimit","categoryStatus","description"],"filters":[],"rowActions":["CogB_ZRQDbriiPK8sH0d0","YMuydRMvGlxZw6DfyXpEJ"],"displayMode":"table","columnWidths":{"createdAt":173.0078125,"managedBy":200.95703125,"createdBy":198.0078125,"description":413.57421875,"updatedAt":162.98828125,"name":142.3828125,"categoryStatus":154.43359375,"expenseLimit":145.83984375,"parentCategory":157.36328125},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2322,"name":"categories","displayName":"Categories","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"isSearchable":false,"isSortable":false,"onDelete":"setNull","filters":[[{"fieldName":"categoryStatus","operator":"===","value":"active"}]],"name":"parentCategory","displayName":"Parent Category","isSystemDefault":false,"typeName":"relation","value":"categories","targetObjId":2322,"isRequired":false},{"subType":"single","defaultValue":"active","isSearchable":true,"isSortable":true,"pickListLvl":1,"name":"categoryStatus","displayName":"Category Status","isSystemDefault":false,"typeName":"pickList","isRequired":true,"pickListName":"categoryStatus","pickListId":1536},{"isSearchable":false,"isSortable":false,"name":"expenseLimit","displayName":"Expense Limit","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Categories","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{"categoryStatus":[{"id":"pli_tIhlouevIsbZNDqx3IYGgaH","name":"active","displayName":"Active","isDeprecated":false,"parentName":null,"attributes":{"color":"green","order":1},"index":7181},{"id":"pli_rPZFVIfimKTpf-y4-ix9JH2","name":"deprecated","displayName":"Deprecated","isDeprecated":false,"parentName":null,"attributes":{"color":"red","order":3},"index":7183},{"id":"pli__soMU6-m9cvBH--a3QdwwTz","name":"suspended","displayName":"Suspended","isDeprecated":false,"parentName":null,"attributes":{"color":"yellow","order":2},"index":7182}]},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"-oYLWYMg8egbKBGwLuHHa":{"id":"-oYLWYMg8egbKBGwLuHHa","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_createCategory","title":"Create new categories","variant":"filled","size":"sm","flowName":"createCategory","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"NewSection","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role= curUser.roleName;\n  if(role !== \"Manager\"&& role !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"_ojbExt":""},"YMuydRMvGlxZw6DfyXpEJ":{"id":"YMuydRMvGlxZw6DfyXpEJ","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"categories","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role= curUser.roleName;\n  if(role !== \"Manager\" && role !== \"Root\"){\n    return false\n  }\n  return true\n}\n","buttonColor":"red"},"children":[],"_ojbExt":""},"CogB_ZRQDbriiPK8sH0d0":{"id":"CogB_ZRQDbriiPK8sH0d0","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_editCategory","title":"Edit","variant":"light","size":"sm","flowName":"editCategory","script":"","inputMap":{"categoryId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role= curUser.roleName;\n  if(role !== \"Manager\" && role !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""},"Dbcoaa09R6eu3ck3GR1UD":{"id":"Dbcoaa09R6eu3ck3GR1UD","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_edit","title":"Edit","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","objName":"categories","type":"object","action":"edit","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role= curUser.roleName;\n  if(role !== \"Manager\" && role !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""},"-oUErLFQCThu8XmGO5-6J":{"id":"-oUErLFQCThu8XmGO5-6J","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"categories","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const role= curUser.roleName;\n  if(role !== \"Manager\" && role !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""}}}}
{"entityType":"layouts","data":{"name":"deposit","displayName":"Deposit","description":"","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["MU4AwqGd_rSh4OUwaeKzH","GNlbJ29xv6EcG0QMGuA5-"]},"GNlbJ29xv6EcG0QMGuA5-":{"id":"GNlbJ29xv6EcG0QMGuA5-","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Deposit History","description":"","objName":"deposit","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":true,"allowSort":true,"allowInlineEdit":false,"fields":["account","name","categoryName","amount","oldBudget","description","createdAt"],"filters":[],"rowActions":["wqcjTp_pzLP36xgSrHsyh"],"displayMode":"table","columnWidths":{"name":195.13671875,"createdAt":225.37109375,"createdBy":197.6953125,"managedBy":212.01171875,"description":238.75,"amount":148.61328125,"oldBudget":146.25,"account":170.10415649414062},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"wqcjTp_pzLP36xgSrHsyh":{"id":"wqcjTp_pzLP36xgSrHsyh","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  if(curUser.roleName!==\"Root\"){\n      return false;\n  }\n  return true\n}\n","objName":"deposit","type":"object","action":"delete","buttonColor":"red"},"children":[],"_ojbExt":""},"MU4AwqGd_rSh4OUwaeKzH":{"id":"MU4AwqGd_rSh4OUwaeKzH","children":["uGmF40ifWEkaUnKrC1Dj2"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Account Balance","description":"","objName":"accountName","allowSearch":false,"allowEditFilters":false,"allowExport":false,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","cashBalance","description","createdAt","updatedAt"],"filters":[],"rowActions":["PlDMIxtA9RNfhAZWsq9hU","Yv8tgqTX8nQ_pvNjSCZ6T","Lhnf91oG8cWbAnWT0XhqL"],"displayMode":"table","columnWidths":{"createdAt":203.0078125,"updatedAt":177.01171875,"cashBalance":191.3671875,"name":172.3828125,"description":170.265625},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":"","schema":{"id":2473,"name":"accountName","displayName":"Account","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"description","displayName":"Description","isSystemDefault":false,"typeName":"text","isRequired":false},{"isSearchable":false,"isSortable":false,"name":"cashBalance","displayName":"Cash Balance","isSystemDefault":false,"typeName":"currency","isRequired":true},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Account Name","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"PlDMIxtA9RNfhAZWsq9hU":{"id":"PlDMIxtA9RNfhAZWsq9hU","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deposit","title":"Deposit","variant":"light","size":"sm","flowName":"deposit","script":"","inputMap":{"accountId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"ArrowBarToDown","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  if(roleName!==\"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""},"Lhnf91oG8cWbAnWT0XhqL":{"id":"Lhnf91oG8cWbAnWT0XhqL","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_editAccount","title":"Edit","variant":"light","size":"sm","flowName":"editAccount","script":"","inputMap":{"accountId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  if(roleName!==\"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n","type":"flow","action":""},"children":[],"_ojbExt":""},"Yv8tgqTX8nQ_pvNjSCZ6T":{"id":"Yv8tgqTX8nQ_pvNjSCZ6T","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"accountName","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  if(roleName!==\"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""},"uGmF40ifWEkaUnKrC1Dj2":{"id":"uGmF40ifWEkaUnKrC1Dj2","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_createAccount","title":"New account","variant":"filled","size":"sm","flowName":"createAccount","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"UserDollar","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  if(roleName!==\"Manager\" && roleName !== \"Root\"){\n    return false\n  }\n  return true\n}\n"},"_ojbExt":""}}}}
{"entityType":"layouts","data":{"name":"home","displayName":"Home","description":"expense management home page with charts, categories and processed expenses","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["6OYmjg-d5oNpGw2Ey0myD","vjIutteUxyeb7uVrXprJg","VZPhge0HSAnTA93zflXWh"]},"6OYmjg-d5oNpGw2Ey0myD":{"id":"6OYmjg-d5oNpGw2Ey0myD","children":["gUYEdzKBhI3FnuToftiYK","zkYaefwL_CRs6oNnrHPI2"],"isNew":true,"label":"Simple Grid","type":"ELEMENT_LAYOUT","component":"SimpleGrid","props":{"customCss":"","columns":2},"_ojbExt":""},"gUYEdzKBhI3FnuToftiYK":{"id":"gUYEdzKBhI3FnuToftiYK","children":[],"label":"React Component","type":"ELEMENT_FIELD","component":"ReactComponent","props":{"value":"const { useState, useEffect, useRef, useMemo } = React;\nconst { Button, Container, Flex, Loader, Title } = MantineCore;\nconst { DatePickerInput } = MantineDates;\nconst { format, getWeek, parseISO, startOfMonth, isAfter, isBefore } = dateFns;\n\nfunction ChartComponent() {\n  // const { getAllApprovedExpenses, getAllAccounts, getAllCategories } = ctx;\n\n  const { variablesState } = useLocalVariables();\n  const { data_1, data_2 } = variablesState;\n\n  if (\n    !data_1?.data ||\n    !data_2?.data ||\n    data_1.status === \"isLoading\" ||\n    data_2.status === \"isLoading\"\n  ) {\n    return (\n      <Container>\n        <Flex miw=\"30rem\" my=\"2rem\" justify=\"center\" align=\"center\">\n          <Loader size=\"lg\" />\n        </Flex>\n      </Container>\n    );\n  }\n\n  if(data_1.data.data.length===0 || data_2.data.data.length===0){\n    return <Container>\n      <Flex mih='10rem' justify='center' align='center'>\n        <Title size='h4'>No data to display</Title>\n      </Flex>\n    </Container>\n  }\n  \n  const getAllApprovedExpenses = data_1.data.data\n    .slice()\n    .filter((expense) => expense.status === \"Approved\")\n    .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n\n  const getAllCategories = data_2.data.data;\n\n  // you dont need comment to know what is this and what it does\n  const chartRef = useRef(null);\n  const [chartLoaded, setChartLoaded] = useState(false);\n\n  // prepare data for chart\n  // group expense into month or week\n  let groupedExpenses = {};\n  // re-structure categories list [] => {}\n  const categories = getAllCategories.reduce((map, category) => {\n    map[category.guid] = category;\n    return map;\n  }, {});\n\n  // assign category name to expense\n  // temp because we also need to filter by date later\n\n  const temp = getAllApprovedExpenses.map((expense) => ({\n    ...expense,\n    category: categories[expense.$metadata.origin.categories].name,\n  }));\n\n  // i already sorted the expenses with get record built-in sort, so just take the first and the last expense date as default range\n  const start = new Date(temp[0].createdAt);\n  const end = new Date(temp[temp.length - 1].createdAt);\n  const [value, setValue] = useState([start, end]);\n\n  // filter all expenses by date picker value\n  const getAllExpenses = temp.filter((expense) => {\n    if (\n      isBefore(new Date(expense.createdAt), value[0]) ||\n      isAfter(new Date(expense.createdAt), value[1])\n    ) {\n      return false;\n    }\n    return expense;\n  });\n\n  // console.log(getAllExpenses);\n\n  // user toggle view\n  const [byMonth, setByMonth] = useState(true);\n\n  if (byMonth) {\n    // reset group\n    groupedExpenses = {};\n    getAllExpenses.forEach((expense) => {\n      const date = parseISO(expense.createdAt);\n\n      // get first day in month of that expense\n      const monthStart = startOfMonth(date);\n      const month = format(monthStart, \"yyyy - MMM\");\n\n      // groupedExpenses.2024 - Jan = {}\n      if (!groupedExpenses[month]) {\n        groupedExpenses[month] = {};\n      }\n\n      // groupedExpenses.2024 - Jan.Client = 0\n      if (!groupedExpenses[month][expense.category]) {\n        groupedExpenses[month][expense.category] = 0;\n      }\n\n      groupedExpenses[month][expense.category] += expense.total;\n    });\n  } else {\n    // else => week\n    // reset group\n    groupedExpenses = {};\n    getAllExpenses.forEach((expense) => {\n      const date = parseISO(expense.createdAt);\n\n      // get week number of that expense (52 weeks in a year)\n\n      // weekStartOn: index - choose days of the week as the start day in a week\n      // 0: (default) Sunday - 1 : Monday - and so on\n      // idk but American see Sunday as a new day of the week? just look at the calendar in Windows\n      const week = getWeek(date, { weekStartsOn: 1 });\n      const year = format(date, \"yyyy\");\n      const yearWeekStr = `${year} - Week ${String(week).padStart(2, \"0\")}`;\n\n      // groupedExpenses.2024 - Week 03 = {}\n      if (!groupedExpenses[yearWeekStr]) {\n        groupedExpenses[yearWeekStr] = {};\n      }\n\n      // groupedExpenses.2024 - Week 03.Meal = 0\n      if (!groupedExpenses[yearWeekStr][expense.category]) {\n        groupedExpenses[yearWeekStr][expense.category] = 0;\n      }\n\n      groupedExpenses[yearWeekStr][expense.category] += expense.total;\n    });\n  }\n\n  // X axis labels: Month or week\n  // number of this labels is the number of objects in dataSets below\n  const labels = Object.keys(groupedExpenses);\n\n  // an object is a column\n  // init the dataSets\n  const dataSets = getAllCategories.map((cat, i) => ({\n    label: cat.name,\n    data: [],\n    borderWidth: 1,\n    stack: \"Stack 0\",\n  }));\n\n  // push data for all categories, if there aren't any expenses with that category, assign 0\n  Object.keys(groupedExpenses).forEach((date) => {\n    dataSets.forEach((dataSet) => {\n      dataSet.data.push(groupedExpenses[date][dataSet.label] || 0);\n    });\n  });\n\n  // data\n  const data = useMemo(\n    () => ({\n      // date label\n      labels: labels,\n      // data cols\n      datasets: dataSets,\n    }),\n    [dataSets, labels]\n  );\n\n\n\n\n\n\n  // loaded the cdn\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://cdn.jsdelivr.net/npm/chart.js\";\n    script.onload = () => setChartLoaded(true);\n\n    document.head.appendChild(script);\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n\n  // render chart\n  useEffect(() => {\n    if (chartLoaded && chartRef.current) {\n      const ctx = chartRef.current.getContext(\"2d\");\n      const myChart = new window.Chart(ctx, {\n        type: \"bar\",\n        data: data,\n        options: {\n          plugins: {\n            title: {\n              display: true,\n              text: \"Total Approved Expenses\",\n            },\n          },\n          scales: {\n            x: {\n              stacked: true,\n            },\n            y: {\n              stacked: true,\n            },\n          },\n        },\n      });\n\n      return () => {\n        myChart.destroy();\n      };\n    }\n  }, [chartLoaded, data]);\n\n  return (\n    <Container>\n      <Flex miw=\"30rem\" mt=\"2rem\" align=\"end\" justify=\"center\" gap=\"xs\">\n        <DatePickerInput\n          miw=\"25rem\"\n          type=\"range\"\n          allowDeselect\n          clearable\n          placeholder={`Default: ${format(start, \"MMMM dd, yyyy\")} - ${format(\n            end,\n            \"MMMM dd, yyyy\"\n          )}`}\n          value={value}\n          onChange={setValue}\n          label=\"Pick Date Range\"\n        />\n        <Flex gap=\"xs\">\n          <Button onClick={() => setByMonth((s) => !s)}>\n            View by {byMonth ? \"week\" : \"month\"}\n          </Button>\n        </Flex>\n      </Flex>\n      {/* chart */}\n      <canvas ref={chartRef}></canvas>\n    </Container>\n  );\n}\n\nexport default ChartComponent;","customCss":""},"_ojbExt":""},"zkYaefwL_CRs6oNnrHPI2":{"id":"zkYaefwL_CRs6oNnrHPI2","children":[],"label":"React Component","type":"ELEMENT_FIELD","component":"ReactComponent","props":{"value":"const { useState, useEffect, useRef, useMemo } = React;\nconst { Container, Flex, Loader, Title } = MantineCore;\n\nfunction PieChartComponent() {\n  const { variablesState } = useLocalVariables();\n  const { data_1, data_2 } = variablesState;\n\n  if (\n    !data_1?.data ||\n    !data_2?.data ||\n    data_1.status === \"isLoading\" ||\n    data_2.status === \"isLoading\"\n  ) {\n    return (\n      <Container>\n        <Flex miw=\"30rem\" my=\"2rem\" justify=\"center\" align=\"center\">\n          <Loader size=\"lg\" />\n        </Flex>\n      </Container>\n    );\n  }\n\nif(data_1.data.data.length===0 || data_2.data.data.length===0){\n    return <Container>\n      <Flex mih='10rem' justify='center' align='center'>\n        <Title size='h4'>No data to display</Title>\n      </Flex>\n    </Container>\n  }\n  \n  const getAllApprovedExpenses = data_1.data.data\n    .slice()\n    .filter((expense) => expense.status === \"Approved\")\n    .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n  const getAllCategories = data_2.data.data;\n\n  // you dont need comment to know what is this and what it does\n  const chartRef = useRef(null);\n  const [chartLoaded, setChartLoaded] = useState(false);\n\n  // prepare data for chart\n  // re-structure categories list [] => {}\n  const categories = getAllCategories.reduce((map, category) => {\n    map[category.guid] = category;\n    map[category.guid].totalAmount = 0;\n    return map;\n  }, {});\n\n  // calc total on each category\n  getAllApprovedExpenses.forEach((expense) => {\n    categories[expense.$metadata.origin.categories].totalAmount += expense.total;\n  });\n\n  // sort top 5 categories\n  const temp = Object.values(categories)\n    .slice()\n    .sort((a, b) => b.totalAmount - a.totalAmount)\n    .slice(0, 5);\n\n  const labels = temp.map((item) => item.name);\n  const nestedData = temp.map((cat) => cat.totalAmount);\n\n  // data\n  const data = useMemo(\n    () => ({\n      // date label\n      labels: labels,\n      // data cols\n      datasets: [\n        {\n          label: \"Total spent\",\n          data: nestedData,\n          borderWidth: 0.5,\n        },\n      ],\n    }),\n    [labels, nestedData]\n  );\n\n  // loaded the cdn\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://cdn.jsdelivr.net/npm/chart.js\";\n    script.onload = () => setChartLoaded(true);\n\n    document.head.appendChild(script);\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n\n  // render chart\n  useEffect(() => {\n    if (chartLoaded && chartRef.current) {\n      const ctx = chartRef.current.getContext(\"2d\");\n      const myChart = new window.Chart(ctx, {\n        type: \"doughnut\",\n        data: data,\n        options: {\n          responsive: true,\n          plugins: {\n            title: {\n              display: true,\n              text: \"Top 5 Spent Categories\",\n            },\n          },\n        },\n      });\n\n      return () => {\n        myChart.destroy();\n      };\n    }\n  }, [chartLoaded, data]);\n\n  return (\n    <Container>\n      {/* chart */}\n      <canvas ref={chartRef}></canvas>\n    </Container>\n  );\n}\n\nexport default PieChartComponent;","customCss":""},"_ojbExt":""},"vjIutteUxyeb7uVrXprJg":{"id":"vjIutteUxyeb7uVrXprJg","children":["y0mFHORFEhCP5IcI2HvGX"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Categories","description":"","objName":"categories","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":true,"allowSort":true,"allowInlineEdit":false,"fields":["name","categoryStatus","parentCategory","expenseLimit","description","updatedAt"],"filters":[],"rowActions":["WUSjg-BbwOS9gQrg96p3F","MmEry6RMbVTtJ_WXY_ta2"],"displayMode":"table","columnWidths":{"createdBy":235.1875,"name":178.5,"managedBy":159.3125,"updatedAt":224.8768768310547,"description":361.960205078125,"expenseLimit":173.0871124267578},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[{"id":"data_1","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"expenses"}},{"id":"data_2","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"categories"}}]},"VZPhge0HSAnTA93zflXWh":{"id":"VZPhge0HSAnTA93zflXWh","children":["3DVSGWUBbtkG0MIGaSYCR","eB3WSr3U70G5DgT6cGK1J"],"label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"customCss":""},"_ojbExt":""},"3DVSGWUBbtkG0MIGaSYCR":{"id":"3DVSGWUBbtkG0MIGaSYCR","children":[],"isNew":true,"label":"Title","type":"ELEMENT_FIELD","component":"Title","props":{"customCss":"& {\n  /** css goes here, scss supported **/\n  padding-bottom: 10px;\n}","children":"Processed Expenses List","order":3,"color":"dark"},"_ojbExt":""},"eB3WSr3U70G5DgT6cGK1J":{"id":"eB3WSr3U70G5DgT6cGK1J","children":["zFEh-pzD4Z9l08yDYjtZw","83L-Qf5JrmKqgPICaiuN3"],"label":"Tab","type":"ELEMENT_LAYOUT","component":"Tabs","props":{"type":"filled","showUnderlineBg":false,"customCss":""},"_ojbExt":""},"zFEh-pzD4Z9l08yDYjtZw":{"id":"zFEh-pzD4Z9l08yDYjtZw","label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"title":"Approved Expenses"},"children":["QQfYxxJmpcZXCAe6zzTgk"],"_ojbExt":""},"83L-Qf5JrmKqgPICaiuN3":{"id":"83L-Qf5JrmKqgPICaiuN3","label":"Section","type":"ELEMENT_LAYOUT","component":"Section","props":{"direction":"row","columns":[1],"showBackground":false,"title":"Rejected Expenses"},"children":["IMar5a5NEVxA2cRKyt0Py"],"_ojbExt":""},"QQfYxxJmpcZXCAe6zzTgk":{"id":"QQfYxxJmpcZXCAe6zzTgk","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"","description":"","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","account","categories","total","description","updatedAt"],"filters":[[{"fieldName":"status","operator":"===","value":"approved"}]],"rowActions":["IyH_og70OjRWxegjVdG8v"],"displayMode":"table","columnWidths":{"name":212.3105926513672,"account":164.69696044921875,"rejectReason":270.9942932128906,"description":282.9829406738281,"categories":138.00189208984375,"total":156.01324462890625,"updatedAt":216.9980926513672},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"IMar5a5NEVxA2cRKyt0Py":{"id":"IMar5a5NEVxA2cRKyt0Py","children":[],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"","description":"","objName":"expenses","allowSearch":false,"allowEditFilters":false,"allowExport":false,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","account","categories","total","description","rejectReason","updatedAt"],"filters":[[{"fieldName":"status","operator":"===","value":"rejected"}]],"rowActions":["AWxD2urxxWuC3dVBDk6cx"],"displayMode":"table","columnWidths":{"name":203.30491638183594,"categories":158.0018768310547,"total":141.0037841796875,"description":210.9943084716797,"rejectReason":213.0018768310547,"updatedAt":196.9980926513672},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"y0mFHORFEhCP5IcI2HvGX":{"id":"y0mFHORFEhCP5IcI2HvGX","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_createCategory","title":"Create new category","variant":"filled","size":"sm","flowName":"createCategory","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"LayoutGridAdd","customCss":"","type":"flow","action":""},"_ojbExt":""},"WUSjg-BbwOS9gQrg96p3F":{"id":"WUSjg-BbwOS9gQrg96p3F","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_editCategory","title":"Edit","variant":"light","size":"sm","flowName":"editCategory","script":"","inputMap":{"categoryId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","type":"flow","action":""},"children":[],"_ojbExt":""},"MmEry6RMbVTtJ_WXY_ta2":{"id":"MmEry6RMbVTtJ_WXY_ta2","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"categories","type":"object","action":"delete"},"children":[],"_ojbExt":""},"IyH_og70OjRWxegjVdG8v":{"id":"IyH_og70OjRWxegjVdG8v","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""},"AWxD2urxxWuC3dVBDk6cx":{"id":"AWxD2urxxWuC3dVBDk6cx","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Trash","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""}}}}
{"entityType":"layouts","data":{"name":"processingExpenses","displayName":"Processing Expenses","description":"app for approver, manager","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["EV-PIQS_sBAs-EmJ8fBK0"]},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[{"id":"data_1","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"expenses","refetchOnMount":false}},{"id":"data_2","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"categories"}}]},"MmqCl82IYczN1BTTrUU6P":{"id":"MmqCl82IYczN1BTTrUU6P","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_managed","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"managed","buttonColor":"red"},"children":[],"_ojbExt":""},"uRBCE12chW6NKQlbOQimp":{"id":"uRBCE12chW6NKQlbOQimp","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_rejectExpense","title":"Process","variant":"light","size":"sm","flowName":"rejectExpense","script":"","inputMap":{"expenseId":"{{target.guid}}","expenseAmount":"{{target.total}}","categoryName":"{{target.$metadata.origin.categories}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Loader","customCss":"","type":"flow","action":"","buttonColor":null},"children":[],"_ojbExt":""},"EV-PIQS_sBAs-EmJ8fBK0":{"id":"EV-PIQS_sBAs-EmJ8fBK0","children":["Kfk0zy2AW0M8rh3tTTqfl"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Submitted Expenses","description":"Waiting to be processed","objName":"expenses","allowSearch":true,"allowEditFilters":false,"allowExport":true,"allowFilters":false,"allowSort":true,"allowInlineEdit":false,"fields":["name","account","categories","total","description","editReason"],"filters":[[{"fieldName":"status","operator":"===","value":"submitted"}]],"rowActions":["GG7Ce1lek02YrmSlvccCY","OJsGAz7fCuYqGSB_4g3c1","Kf6_pOfzxavrQSajK6IcA"],"displayMode":"table","columnWidths":{"total":206.9921875,"categories":170.5859375,"account":128.7890625,"description":348.0078125,"name":193.37890625,"editReason":308.3711853027344},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"Kfk0zy2AW0M8rh3tTTqfl":{"id":"Kfk0zy2AW0M8rh3tTTqfl","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deposit","title":"Make a deposit","variant":"filled","size":"sm","flowName":"deposit","script":"","inputMap":{},"buttonColor":null,"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"ArrowBarToDown","customCss":"","type":"flow","action":""},"_ojbExt":""},"GG7Ce1lek02YrmSlvccCY":{"id":"GG7Ce1lek02YrmSlvccCY","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_rejectExpense","title":"Process","variant":"light","size":"sm","flowName":"rejectExpense","script":"","inputMap":{"expenseId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Loader","customCss":"","type":"flow","action":""},"children":[],"_ojbExt":""},"Kf6_pOfzxavrQSajK6IcA":{"id":"Kf6_pOfzxavrQSajK6IcA","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenses","type":"object","action":"delete"},"children":[],"_ojbExt":""},"OJsGAz7fCuYqGSB_4g3c1":{"id":"OJsGAz7fCuYqGSB_4g3c1","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_deleteAccount","title":"Edit","variant":"light","size":"sm","flowName":"deleteAccount","script":"","inputMap":{"expenseId":"{{target.guid}}"},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  const {roleName}=curUser;\n  if(roleName!==\"Root\" && roleName !== 'Manager'){\n    return false;\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""}}}}
{"entityType":"layouts","data":{"name":"default_user","displayName":"User (user)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["965a718f-10a0-4643-9fce-d0f4c172d0c3"]},"965a718f-10a0-4643-9fce-d0f4c172d0c3":{"id":"965a718f-10a0-4643-9fce-d0f4c172d0c3","label":"User","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"user","isPrimary":true,"numOfCols":2,"fields":["name","roleName","username","profileName","supervisor","divisionName","jobDescription","email","watchDogId","totalVacation","currentVacation"],"actions":[],"customCss":"","extended":{}},"children":[],"schema":{"id":2318,"name":"user","displayName":"User","description":null,"fields":[{"subType":"short","isSearchable":true,"isReadOnly":true,"name":"guid","displayName":"Record ID","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"short","isSortable":true,"name":"currencyCode","displayName":"Currency Code","isSystemDefault":true,"typeName":"text","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"createdAt","displayName":"Created At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"date-time","isSortable":true,"isReadOnly":true,"name":"updatedAt","displayName":"Updated At","isSystemDefault":true,"typeName":"generated","isRequired":false},{"subType":"user","isReadOnly":true,"name":"createdBy","displayName":"Created By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"user","name":"managedBy","displayName":"Managed By","isSystemDefault":true,"typeName":"generated","value":"user","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"isReadOnly":true,"name":"profileName","displayName":"Profile","isSystemDefault":true,"typeName":"text","value":"profile","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"isReadOnly":true,"name":"roleName","displayName":"Role","isSystemDefault":true,"typeName":"text","value":"role","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"isReadOnly":true,"name":"divisionName","displayName":"Division","isSystemDefault":true,"typeName":"text","value":"division","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"isReadOnly":true,"name":"username","displayName":"Username","isSystemDefault":true,"typeName":"text","isRequired":false},{"isSortable":true,"isReadOnly":true,"name":"isActive","displayName":"Active","isSystemDefault":true,"typeName":"boolean","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"sensitivity":"none","name":"email","displayName":"Email","isSystemDefault":false,"typeName":"text","isRequired":false},{"subType":"long","isSearchable":false,"isSortable":false,"sensitivity":"none","name":"jobDescription","displayName":"Job description","isSystemDefault":false,"typeName":"text","isRequired":false},{"subType":"short","isSearchable":true,"isSortable":true,"sensitivity":"none","name":"supervisor","displayName":"Supervisor","isSystemDefault":false,"typeName":"text","isRequired":false},{"subType":"short","defaultValue":"","isSearchable":true,"isSortable":true,"name":"name","displayName":"Display Name","isSystemDefault":true,"typeName":"text","isRequired":true}],"pickList":{},"extended":{},"objectRefs":{}},"profileAccess":{"read":true,"create":true,"update":true,"delete":true}},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]}},"objectName":"user"}}
{"entityType":"layouts","data":{"name":"default_expenseSettings","displayName":"Expense Settings (expenseSettings)","description":null,"type":"record-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["c801cacc-8be4-4396-b5ce-3c0975193a06"]},"c801cacc-8be4-4396-b5ce-3c0975193a06":{"id":"c801cacc-8be4-4396-b5ce-3c0975193a06","label":"Expense Settings","type":"ELEMENT_LAYOUT","component":"RecordDetail","props":{"objName":"expenseSettings","isPrimary":true,"numOfCols":2,"fields":["name","value","description","createdAt","updatedAt"],"actions":[],"extended":{},"customCss":"","title":"{{curRecord.name}}","description":"","hideBackBtn":false,"allowComments":false},"children":["QCWQsGu7q82nz4phN4z8i"]},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[]},"QCWQsGu7q82nz4phN4z8i":{"id":"QCWQsGu7q82nz4phN4z8i","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"buttonColor":"red","bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"TrashX","customCss":"","objName":"expenseSettings","type":"object","action":"delete","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  if(curUser.roleName !== \"Root\"){\n    return false;\n  }\n  return true;\n}\n"},"_ojbExt":""}},"objectName":"expenseSettings"}}
{"entityType":"layouts","data":{"name":"expenseSettings","displayName":"Expense Settings","description":"configuration for the app","type":"app-page","script":{"BUILDER_ROOT_ELEMENT":{"id":"BUILDER_ROOT_ELEMENT","label":"BUILDER_ROOT_ELEMENT","component":"","type":"ELEMENT_LAYOUT","props":{},"children":["5rTW7iKDlZE_B17Tuppu0"]},"5rTW7iKDlZE_B17Tuppu0":{"id":"5rTW7iKDlZE_B17Tuppu0","children":["y1yUno_S8ul7mUdBM-DuT"],"label":"Rec. List","type":"ELEMENT_LAYOUT","component":"ObjectListV2","props":{"title":"Application Settings","description":"","objName":"expenseSettings","allowSearch":false,"allowEditFilters":false,"allowExport":false,"allowFilters":false,"allowSort":false,"allowInlineEdit":false,"fields":["name","description","value","uniqueId","autoApprovalThreshold","emailSubject","manager"],"filters":[],"rowActions":["2CvWOgJ3ipZU5ySbOwJ0-","iWuIDX0Z6IbzlUOq5aEKC"],"displayMode":"table","columnWidths":{"name":240.37109375,"description":437.3828125,"value":404,"createdAt":157.01171875,"createdBy":185.99609375,"managedBy":189.00390625,"emailSubject":518.0078125,"autoApprovalThreshold":219.609375,"manager":279.39453125},"gridColumns":3,"type":"object","attributes":{},"relationField":false,"actions":[],"customCss":"","limit":20,"customFieldsMap":{},"peekViewMode":"f","paginationMethod":"offset","calendar":{"eventLabelField":"name"}},"_ojbExt":""},"BUILDER_DATASOURCE":{"id":"DATASOURCE","label":"Data Source","component":"DataSource","props":{},"type":"DATASOURCE","children":[{"id":"data_1","type":"object","dataObjectConfig":{"uiType":"list","enabled":true,"filters":[[{"fieldName":"status","operator":"===","value":"approved"}]],"searchText":"","limit":100,"offset":0,"staleTime":null,"refetchInterval":null,"object":"expenses"}}]},"iWuIDX0Z6IbzlUOq5aEKC":{"id":"iWuIDX0Z6IbzlUOq5aEKC","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_delete","title":"Delete","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"AlertTriangle","customCss":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  if(curUser.roleName !== \"Root\"){\n    return false;\n  }\n  return true\n}\n","objName":"expenseSettings","type":"object","action":"delete","buttonColor":"red"},"children":[],"_ojbExt":""},"y1yUno_S8ul7mUdBM-DuT":{"id":"y1yUno_S8ul7mUdBM-DuT","children":[],"label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"flow_changeAppSettings","title":"Add / Edit settings","variant":"filled","size":"sm","flowName":"changeAppSettings","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"BallpenFilled","customCss":"","type":"flow","action":"","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  return true\n}\n"},"_ojbExt":""},"2CvWOgJ3ipZU5ySbOwJ0-":{"id":"2CvWOgJ3ipZU5ySbOwJ0-","label":"Button","type":"ELEMENT_FIELD","component":"Button","props":{"actionType":"action_flow","actionId":"object_edit","title":"Edit","variant":"light","size":"sm","flowName":"","script":"","inputMap":{},"bgColor":"#FFF","textColor":"#000","borderColor":"#ccc","borderWidth":1,"icon":"Ballpen","customCss":"","objName":"expenseSettings","type":"object","action":"edit","displayCondition":"function isVisible({now, curRecord, curUser, target}) {\n  if(curUser.roleName !==\"Root\"){\n    return false;\n  }\n  return true\n}\n"},"children":[],"_ojbExt":""}}}}
{"entityType":"applications","data":{"name":"default","displayName":"Expense Management","description":"Default Application","customProps":{"colorShades":["#f1e7f6","#dcc2e9","#c79ddb","#b378ce","#9e54c1","#892fb3","#740aa6","#63098d","#510774","#40065b"],"headerScript":[]}}}
{"entityType":"applications","data":{"name":"expenseManagement","displayName":"Reporter View","description":"","customProps":{"colorShades":["#f1e7f6","#dcc2e9","#c79ddb","#b378ce","#9e54c1","#892fb3","#740aa6","#63098d","#510774","#40065b"],"headerScript":[],"footerScript":""}}}
{"entityType":"appsLayouts","data":{"order":0,"appName":"default","layoutName":"default_expenses"}}
{"entityType":"appsLayouts","data":{"order":3,"appName":"expenseManagement","layoutName":"categories"}}
{"entityType":"appsLayouts","data":{"order":1,"appName":"default","layoutName":"home"}}
{"entityType":"appsLayouts","data":{"order":4,"appName":"expenseManagement","layoutName":"deposit"}}
{"entityType":"appsLayouts","data":{"order":3,"appName":"default","layoutName":"deposit"}}
{"entityType":"appsLayouts","data":{"order":2,"appName":"default","layoutName":"processingExpenses"}}
{"entityType":"appsLayouts","data":{"order":4,"appName":"default","layoutName":"expenseSettings"}}
{"entityType":"appsLayouts","data":{"order":0,"appName":"expenseManagement","layoutName":"expenseManagement"}}
{"entityType":"appsLayouts","data":{"order":0,"appName":"default","layoutName":"default_categories"}}
{"entityType":"appsLayouts","data":{"order":0,"appName":"default","layoutName":"default_accountName"}}
{"entityType":"objectsLayouts","data":{"objectName":"systemImportBatch","layoutName":"default_systemImportBatch"}}
{"entityType":"objectsLayouts","data":{"objectName":"expenses","layoutName":"default_expenses"}}
{"entityType":"objectsLayouts","data":{"objectName":"categories","layoutName":"default_categories"}}
{"entityType":"objectsLayouts","data":{"objectName":"deposit","layoutName":"default_deposit"}}
{"entityType":"objectsLayouts","data":{"objectName":"expenseSettings","layoutName":"default_expenseSettings"}}
{"entityType":"objectsLayouts","data":{"objectName":"accountName","layoutName":"default_accountName"}}
{"entityType":"objectsLayouts","data":{"objectName":"user","layoutName":"default_user"}}
{"entityType":"flowObjects","data":{"flowName":"test","objectName":"expenses"}}
{"entityType":"objectProfiles","data":{"objectName":"expenses","profileName":"Employee","accessType":0}}
{"entityType":"objectProfiles","data":{"objectName":"expenses","profileName":"Reporter","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"categories","profileName":"Employee","accessType":0}}
{"entityType":"objectProfiles","data":{"objectName":"categories","profileName":"Reporter","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"deposit","profileName":"Employee","accessType":0}}
{"entityType":"objectProfiles","data":{"objectName":"deposit","profileName":"Reporter","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"expenseSettings","profileName":"Employee","accessType":0}}
{"entityType":"objectProfiles","data":{"objectName":"expenseSettings","profileName":"Reporter","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"accountName","profileName":"Employee","accessType":0}}
{"entityType":"objectProfiles","data":{"objectName":"accountName","profileName":"Reporter","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"systemImportBatch","profileName":"Manager","accessType":8}}
{"entityType":"objectProfiles","data":{"objectName":"expenses","profileName":"Manager","accessType":15}}
{"entityType":"objectProfiles","data":{"objectName":"categories","profileName":"Manager","accessType":15}}
{"entityType":"objectProfiles","data":{"objectName":"deposit","profileName":"Manager","accessType":15}}
{"entityType":"objectProfiles","data":{"objectName":"expenseSettings","profileName":"Manager","accessType":15}}
{"entityType":"objectProfiles","data":{"objectName":"accountName","profileName":"Manager","accessType":15}}
{"entityType":"objectProfiles","data":{"objectName":"user","profileName":"Manager","accessType":8}}
{"entityType":"appProfiles","data":{"appName":"default","profileName":"admin"}}
{"entityType":"appProfiles","data":{"appName":"default","profileName":"Manager"}}
{"entityType":"appProfiles","data":{"appName":"expenseManagement","profileName":"Reporter"}}
{"entityType":"appProfiles","data":{"appName":"expenseManagement","profileName":"admin"}}
{"entityType":"appProfiles","data":{"appName":"expenseManagement","profileName":"Manager"}}
